/*! For license information please see main.8b6d68f5.js.LICENSE.txt */
!function(){var e={9872:function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s,u,c,l){return function(){"use strict";var f={654:function(e,t,n){var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setKeyMap=t.destroy=t.setThrottle=t.init=t.SpatialNavigation=t.ROOT_FOCUS_KEY=void 0;var s=a(n(747)),u=a(n(842)),c=a(n(432)),l=a(n(23)),f=a(n(682)),h=a(n(784)),d=a(n(67)),p=a(n(117)),v=a(n(964)),y=a(n(35)),g="left",m="right",b="up",w="down",E="enter",_=((r={}).left=[37],r.up=[38],r.right=[39],r.down=[40],r.enter=[13],r);t.ROOT_FOCUS_KEY="SN:ROOT";var S=["#0FF","#FF0","#F0F"],T={leading:!0,trailing:!1},x=function(){function e(){this.focusableComponents={},this.focusKey=null,this.parentsHavingFocusedChild=[],this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.pressedKeys={},this.paused=!1,this.keyDownEventListener=null,this.keyUpEventListener=null,this.keyMap=_,this.onKeyEvent=this.onKeyEvent.bind(this),this.pause=this.pause.bind(this),this.resume=this.resume.bind(this),this.setFocus=this.setFocus.bind(this),this.updateAllLayouts=this.updateAllLayouts.bind(this),this.navigateByDirection=this.navigateByDirection.bind(this),this.init=this.init.bind(this),this.setThrottle=this.setThrottle.bind(this),this.destroy=this.destroy.bind(this),this.setKeyMap=this.setKeyMap.bind(this),this.getCurrentFocusKey=this.getCurrentFocusKey.bind(this),this.debug=!1,this.visualDebugger=null,this.logIndex=0}return e.getCutoffCoordinate=function(e,t,n,r){var i=r.left,o=r.top,a=r.width,s=r.height,u=e?o:i,c=e?s:a;return t?n?u:u+c:n?u+c:u},e.getRefCorners=function(e,t,n){var r=n.left,i=n.top,o=n.width,a=n.height,s={a:{x:0,y:0},b:{x:0,y:0}};switch(e){case b:var u=t?i+a:i;s.a={x:r,y:u},s.b={x:r+o,y:u};break;case w:u=t?i:i+a,s.a={x:r,y:u},s.b={x:r+o,y:u};break;case g:var c=t?r+o:r;s.a={x:c,y:i},s.b={x:c,y:i+a};break;case m:c=t?r:r+o,s.a={x:c,y:i},s.b={x:c,y:i+a}}return s},e.isAdjacentSlice=function(e,t,n){var r=e.a,i=e.b,o=t.a,a=t.b,s=n?"x":"y",u=r[s],c=i[s],l=o[s],f=a[s],h=.2*(c-u);return Math.max(0,Math.min(c,f)-Math.max(u,l))>=h},e.getPrimaryAxisDistance=function(e,t,n){var r=e.a,i=t.a,o=n?"y":"x";return Math.abs(i[o]-r[o])},e.getSecondaryAxisDistance=function(e,t,n){var r=e.a,i=e.b,o=t.a,a=t.b,s=n?"x":"y",u=r[s],c=i[s],l=o[s],f=a[s],h=[];return h.push(Math.abs(l-u)),h.push(Math.abs(l-c)),h.push(Math.abs(f-u)),h.push(Math.abs(f-c)),Math.min.apply(Math,h)},e.prototype.sortSiblingsByPriority=function(t,n,r,i){var o=this,a=r===w||r===b,s=e.getRefCorners(r,!1,n);return(0,c.default)(t,(function(t){var n=e.getRefCorners(r,!0,t.layout),u=e.isAdjacentSlice(s,n,a),c=u?e.getPrimaryAxisDistance:e.getSecondaryAxisDistance,l=u?e.getSecondaryAxisDistance:e.getPrimaryAxisDistance,f=c(s,n,a),h=l(s,n,a),d=5*f+h,p=(d+1)/(u?5:1);return o.log("smartNavigate","distance (primary, secondary, total weighted) for ".concat(t.focusKey," relative to ").concat(i," is"),f,h,d),o.log("smartNavigate","priority for ".concat(t.focusKey," relative to ").concat(i," is"),p),o.visualDebugger&&(o.visualDebugger.drawPoint(n.a.x,n.a.y,"yellow",6),o.visualDebugger.drawPoint(n.b.x,n.b.y,"yellow",6)),p}))},e.prototype.init=function(e){var t=void 0===e?{}:e,n=t.debug,r=void 0!==n&&n,i=t.visualDebug,o=void 0!==i&&i,a=t.nativeMode,s=void 0!==a&&a,u=t.throttle,c=void 0===u?0:u,l=t.throttleKeypresses,f=void 0!==l&&l;this.enabled||(this.enabled=!0,this.nativeMode=s,this.throttleKeypresses=f,this.debug=r,this.nativeMode||(Number.isInteger(c)&&c>0&&(this.throttle=c),this.bindEventHandlers(),o&&(this.visualDebugger=new y.default,this.startDrawLayouts())))},e.prototype.setThrottle=function(e){var t=void 0===e?{}:e,n=t.throttle,r=void 0===n?0:n,i=t.throttleKeypresses,o=void 0!==i&&i;this.throttleKeypresses=o,this.nativeMode||(this.unbindEventHandlers(),Number.isInteger(r)&&(this.throttle=r),this.bindEventHandlers())},e.prototype.startDrawLayouts=function(){var e=this,t=function t(){requestAnimationFrame((function(){e.visualDebugger.clearLayouts(),(0,h.default)(e.focusableComponents,(function(t,n){e.visualDebugger.drawLayout(t.layout,n,t.parentFocusKey)})),t()}))};t()},e.prototype.destroy=function(){this.enabled&&(this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.focusKey=null,this.parentsHavingFocusedChild=[],this.focusableComponents={},this.paused=!1,this.keyMap=_,this.unbindEventHandlers())},e.prototype.getEventType=function(e){return(0,l.default)(this.getKeyMap(),(function(t){return t.includes(e)}))},e.prototype.bindEventHandlers=function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&(this.keyDownEventListener=function(t){if(!0!==e.paused){e.debug&&(e.logIndex+=1);var n=e.getEventType(t.keyCode);if(n){e.pressedKeys[n]=e.pressedKeys[n]?e.pressedKeys[n]+1:1,t.preventDefault(),t.stopPropagation();var r={pressedKeys:e.pressedKeys};n===E&&e.focusKey?e.onEnterPress(r):!1===e.onArrowPress(n,r)?(e.log("keyDownEventListener","default navigation prevented"),e.visualDebugger&&e.visualDebugger.clear()):e.onKeyEvent(t)}}},this.throttle&&(this.keyDownEventListenerThrottled=(0,d.default)(this.keyDownEventListener.bind(this),this.throttle,T)),this.keyUpEventListener=function(t){var n=e.getEventType(t.keyCode);delete e.pressedKeys[n],e.throttle&&!e.throttleKeypresses&&e.keyDownEventListenerThrottled.cancel(),n===E&&e.focusKey&&e.onEnterRelease()},window.addEventListener("keyup",this.keyUpEventListener),window.addEventListener("keydown",this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener))},e.prototype.unbindEventHandlers=function(){if("undefined"!=typeof window&&window.removeEventListener){window.removeEventListener("keyup",this.keyUpEventListener),this.keyUpEventListener=null;var e=this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener;window.removeEventListener("keydown",e),this.keyDownEventListener=null}},e.prototype.onEnterPress=function(e){var t=this.focusableComponents[this.focusKey];t?t.focusable?t.onEnterPress&&t.onEnterPress(e):this.log("onEnterPress","componentNotFocusable"):this.log("onEnterPress","noComponent")},e.prototype.onEnterRelease=function(){var e=this.focusableComponents[this.focusKey];e?e.focusable?e.onEnterRelease&&e.onEnterRelease():this.log("onEnterRelease","componentNotFocusable"):this.log("onEnterRelease","noComponent")},e.prototype.onArrowPress=function(e,t){var n=this.focusableComponents[this.focusKey];if(n)return n&&n.onArrowPress&&n.onArrowPress(e,t);this.log("onArrowPress","noComponent")},e.prototype.navigateByDirection=function(e,t){if(!0!==this.paused&&!this.nativeMode){var n=[w,b,g,m];n.includes(e)?(this.log("navigateByDirection","direction",e),this.smartNavigate(e,null,t)):this.log("navigateByDirection","Invalid direction. You passed: `".concat(e,"`, but you can use only these: "),n)}},e.prototype.onKeyEvent=function(e){this.visualDebugger&&this.visualDebugger.clear();var t=(0,l.default)(this.getKeyMap(),(function(t){return t.includes(e.keyCode)}));this.smartNavigate(t,null,{event:e})},e.prototype.smartNavigate=function(t,n,r){var i=this;if(!this.nativeMode){this.log("smartNavigate","direction",t),this.log("smartNavigate","fromParentFocusKey",n),this.log("smartNavigate","this.focusKey",this.focusKey),n||(0,h.default)(this.focusableComponents,(function(e){e.layoutUpdated=!1}));var o=this.focusableComponents[n||this.focusKey];if(this.log("smartNavigate","currentComponent",o?o.focusKey:void 0,o?o.node:void 0),o){this.updateLayout(o.focusKey);var a=o.parentFocusKey,c=o.focusKey,l=o.layout,f=t===w||t===b,d=t===w||t===m,p=e.getCutoffCoordinate(f,d,!1,l),v=(0,s.default)(this.focusableComponents,(function(t){if(t.parentFocusKey===a&&t.focusable){i.updateLayout(t.focusKey);var n=e.getCutoffCoordinate(f,d,!0,t.layout);return d?n>=p:n<=p}return!1}));if(this.debug&&(this.log("smartNavigate","currentCutoffCoordinate",p),this.log("smartNavigate","siblings","".concat(v.length," elements:"),v.map((function(e){return e.focusKey})).join(", "),v.map((function(e){return e.node})))),this.visualDebugger){var y=e.getRefCorners(t,!1,l);this.visualDebugger.drawPoint(y.a.x,y.a.y),this.visualDebugger.drawPoint(y.b.x,y.b.y)}var g=this.sortSiblingsByPriority(v,l,t,c),E=(0,u.default)(g);if(this.log("smartNavigate","nextComponent",E?E.focusKey:void 0,E?E.node:void 0),E)this.setFocus(E.focusKey,r);else{var _=this.focusableComponents[a];this.saveLastFocusedChildKey(_,c),_&&_.isFocusBoundary||this.smartNavigate(t,a,r)}}}},e.prototype.saveLastFocusedChildKey=function(e,t){e&&(this.log("saveLastFocusedChildKey","".concat(e.focusKey," lastFocusedChildKey set"),t),e.lastFocusedChildKey=t)},e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.debug&&console.log.apply(console,o(["%c".concat(e,"%c").concat(t),"background: ".concat(S[this.logIndex%S.length],"; color: black; padding: 1px 5px;"),"background: #333; color: #BADA55; padding: 1px 5px;"],n,!1))},e.prototype.getCurrentFocusKey=function(){return this.focusKey},e.prototype.getNextFocusKey=function(e){var t=this,n=this.focusableComponents[e];if(!n||this.nativeMode)return e;var r=(0,s.default)(this.focusableComponents,(function(t){return t.parentFocusKey===e&&t.focusable}));if(r.length>0){var i=n.lastFocusedChildKey,o=n.preferredChildFocusKey;if(this.log("getNextFocusKey","lastFocusedChildKey is",i),this.log("getNextFocusKey","preferredChildFocusKey is",o),i&&n.saveLastFocusedChild&&this.isParticipatingFocusableComponent(i))return this.log("getNextFocusKey","lastFocusedChildKey will be focused",i),this.getNextFocusKey(i);if(o&&this.isParticipatingFocusableComponent(o))return this.log("getNextFocusKey","preferredChildFocusKey will be focused",o),this.getNextFocusKey(o);r.forEach((function(e){return t.updateLayout(e.focusKey)}));var a=function(e){var t=(0,c.default)(e,(function(e){var t=e.layout;return Math.abs(t.left)+Math.abs(t.top)}));return(0,u.default)(t)}(r).focusKey;return this.log("getNextFocusKey","childKey will be focused",a),this.getNextFocusKey(a)}return this.log("getNextFocusKey","targetFocusKey",e),e},e.prototype.addFocusable=function(e){var t=e.focusKey,n=e.node,r=e.parentFocusKey,i=e.onEnterPress,o=e.onEnterRelease,a=e.onArrowPress,s=e.onFocus,u=e.onBlur,c=e.saveLastFocusedChild,l=e.trackChildren,f=e.onUpdateFocus,h=e.onUpdateHasFocusedChild,d=e.preferredChildFocusKey,p=e.autoRestoreFocus,v=e.focusable,y=e.isFocusBoundary;this.focusableComponents[t]={focusKey:t,node:n,parentFocusKey:r,onEnterPress:i,onEnterRelease:o,onArrowPress:a,onFocus:s,onBlur:u,onUpdateFocus:f,onUpdateHasFocusedChild:h,saveLastFocusedChild:c,trackChildren:l,preferredChildFocusKey:d,focusable:v,isFocusBoundary:y,autoRestoreFocus:p,lastFocusedChildKey:null,layout:{x:0,y:0,width:0,height:0,left:0,top:0,node:n},layoutUpdated:!1},this.nativeMode||(this.updateLayout(t),t===this.focusKey&&this.setFocus(t))},e.prototype.removeFocusable=function(e){var t=e.focusKey,n=this.focusableComponents[t];if(n){var r=n.parentFocusKey;delete this.focusableComponents[t];var i=this.focusableComponents[r],o=t===this.focusKey;if(i&&i.lastFocusedChildKey===t&&(i.lastFocusedChildKey=null),this.nativeMode)return;(0,f.default)(this.focusableComponents,(function(e){e.parentFocusKey===t&&e.focusable&&(e.parentFocusKey=r)})),o&&i&&i.autoRestoreFocus&&this.setFocus(r)}},e.prototype.getNodeLayoutByFocusKey=function(e){var t=this.focusableComponents[e];return t?(this.updateLayout(t.focusKey),t.layout):null},e.prototype.setCurrentFocusedKey=function(e,t){if(this.isFocusableComponent(this.focusKey)&&e!==this.focusKey){var n=this.focusableComponents[this.focusKey],r=this.focusableComponents[n.parentFocusKey];this.saveLastFocusedChildKey(r,this.focusKey),n.onUpdateFocus(!1),n.onBlur(this.getNodeLayoutByFocusKey(this.focusKey),t)}if(this.focusKey=e,this.isFocusableComponent(this.focusKey)){var i=this.focusableComponents[this.focusKey];i.onUpdateFocus(!0),i.onFocus(this.getNodeLayoutByFocusKey(this.focusKey),t)}},e.prototype.updateParentsHasFocusedChild=function(e,t){for(var n=this,r=[],i=this.focusableComponents[e];i;){var o=i.parentFocusKey,a=this.focusableComponents[o];if(a){var s=a.focusKey;r.push(s)}i=a}var u=(0,p.default)(this.parentsHavingFocusedChild,r),c=(0,p.default)(r,this.parentsHavingFocusedChild);(0,f.default)(u,(function(e){var r=n.focusableComponents[e];r&&r.trackChildren&&r.onUpdateHasFocusedChild(!1),n.onIntermediateNodeBecameBlurred(e,t)})),(0,f.default)(c,(function(e){var r=n.focusableComponents[e];r&&r.trackChildren&&r.onUpdateHasFocusedChild(!0),n.onIntermediateNodeBecameFocused(e,t)})),this.parentsHavingFocusedChild=r},e.prototype.updateParentsLastFocusedChild=function(e){for(var t=this.focusableComponents[e];t;){var n=t.parentFocusKey,r=this.focusableComponents[n];r&&this.saveLastFocusedChildKey(r,t.focusKey),t=r}},e.prototype.getKeyMap=function(){return this.keyMap},e.prototype.setKeyMap=function(e){this.keyMap=i(i({},this.getKeyMap()),function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];"number"==typeof r?t[n]=[r]:Array.isArray(r)&&(t[n]=r)})),t}(e))},e.prototype.isFocusableComponent=function(e){return!!this.focusableComponents[e]},e.prototype.isParticipatingFocusableComponent=function(e){return this.isFocusableComponent(e)&&this.focusableComponents[e].focusable},e.prototype.onIntermediateNodeBecameFocused=function(e,t){this.isParticipatingFocusableComponent(e)&&this.focusableComponents[e].onFocus(this.getNodeLayoutByFocusKey(e),t)},e.prototype.onIntermediateNodeBecameBlurred=function(e,t){this.isParticipatingFocusableComponent(e)&&this.focusableComponents[e].onBlur(this.getNodeLayoutByFocusKey(e),t)},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.setFocus=function(e,t){if(void 0===t&&(t={}),this.enabled){this.log("setFocus","focusKey",e);var n=this.focusKey,r=this.getNextFocusKey(e);this.log("setFocus","newFocusKey",r),this.setCurrentFocusedKey(r,t),this.updateParentsHasFocusedChild(r,t),this.updateParentsLastFocusedChild(n)}},e.prototype.updateAllLayouts=function(){var e=this;this.nativeMode||(0,h.default)(this.focusableComponents,(function(t,n){e.updateLayout(n)}))},e.prototype.updateLayout=function(e){var t=this.focusableComponents[e];if(t&&!this.nativeMode&&!t.layoutUpdated){var n=t.node;t.layout=i(i({},(0,v.default)(n)),{node:n})}},e.prototype.updateFocusable=function(e,t){var n=t.node,r=t.preferredChildFocusKey,i=t.focusable,o=t.isFocusBoundary,a=t.onEnterPress,s=t.onEnterRelease,u=t.onArrowPress,c=t.onFocus,l=t.onBlur;if(!this.nativeMode){var f=this.focusableComponents[e];f&&(f.preferredChildFocusKey=r,f.focusable=i,f.isFocusBoundary=o,f.onEnterPress=a,f.onEnterRelease=s,f.onArrowPress=u,f.onFocus=c,f.onBlur=l,n&&(f.node=n))}},e.prototype.isNativeMode=function(){return this.nativeMode},e}();t.SpatialNavigation=new x,t.init=t.SpatialNavigation.init,t.setThrottle=t.SpatialNavigation.setThrottle,t.destroy=t.SpatialNavigation.destroy,t.setKeyMap=t.SpatialNavigation.setKeyMap},35:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window&&window.document,r=n?window.innerWidth:0,i=n?window.innerHeight:0,o=function(){function e(){n&&(this.debugCtx=e.createCanvas("sn-debug","1010"),this.layoutsCtx=e.createCanvas("sn-layouts","1000"))}return e.createCanvas=function(e,t){var n=document.querySelector("#".concat(e))||document.createElement("canvas");n.setAttribute("id",e);var o=n.getContext("2d");return n.style.zIndex=t,n.style.position="fixed",n.style.top="0",n.style.left="0",document.body.appendChild(n),n.width=r,n.height=i,o},e.prototype.clear=function(){n&&this.debugCtx.clearRect(0,0,r,i)},e.prototype.clearLayouts=function(){n&&this.layoutsCtx.clearRect(0,0,r,i)},e.prototype.drawLayout=function(e,t,r){n&&(this.layoutsCtx.strokeStyle="green",this.layoutsCtx.strokeRect(e.left,e.top,e.width,e.height),this.layoutsCtx.font="8px monospace",this.layoutsCtx.fillStyle="red",this.layoutsCtx.fillText(t,e.left,e.top+10),this.layoutsCtx.fillText(r,e.left,e.top+25),this.layoutsCtx.fillText("left: ".concat(e.left),e.left,e.top+40),this.layoutsCtx.fillText("top: ".concat(e.top),e.left,e.top+55))},e.prototype.drawPoint=function(e,t,r,i){void 0===r&&(r="blue"),void 0===i&&(i=10),n&&(this.debugCtx.strokeStyle=r,this.debugCtx.lineWidth=3,this.debugCtx.strokeRect(e-i/2,t-i/2,i,i))},e}();t.default=o},607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(79),t),i(n(893),t),i(n(654),t)},964:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=e.offsetParent,n=e.offsetHeight,r=e.offsetWidth,i=e.offsetLeft,o=e.offsetTop;t&&1===t.nodeType;)i+=t.offsetLeft-t.scrollLeft,o+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{height:n,left:i,top:o,width:r}};t.default=function(e){var t=e&&e.parentElement;if(e&&t){var r=n(t),i=n(e),o=i.height,a=i.left,s=i.top,u=i.width;return{x:a-r.left,y:s-r.top,width:u,height:o,left:a,top:s}}return{x:0,y:0,width:0,height:0,left:0,top:0}}},451:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(156);t.default=function(e){var t=(0,r.useRef)(e),n=(0,r.useRef)(),i=(0,r.useRef)(!1),o=(0,r.useRef)(!1),a=(0,r.useState)(0)[1];i.current&&(o.current=!0),(0,r.useEffect)((function(){return i.current||(n.current=t.current(),i.current=!0),a((function(e){return e+1})),function(){o.current&&n.current&&n.current()}}),[])}},79:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusable=void 0;var i=n(156),o=r(n(604)),a=r(n(461)),s=n(654),u=n(893),c=r(n(451));t.useFocusable=function(e){var t=void 0===e?{}:e,n=t.focusable,r=void 0===n||n,l=t.saveLastFocusedChild,f=void 0===l||l,h=t.trackChildren,d=void 0!==h&&h,p=t.autoRestoreFocus,v=void 0===p||p,y=t.isFocusBoundary,g=void 0!==y&&y,m=t.focusKey,b=t.preferredChildFocusKey,w=t.onEnterPress,E=void 0===w?o.default:w,_=t.onEnterRelease,S=void 0===_?o.default:_,T=t.onArrowPress,x=void 0===T?function(){return!0}:T,k=t.onFocus,I=void 0===k?o.default:k,C=t.onBlur,N=void 0===C?o.default:C,O=t.extraProps,D=(0,i.useCallback)((function(e){E(O,e)}),[E,O]),A=(0,i.useCallback)((function(){S(O)}),[S,O]),P=(0,i.useCallback)((function(e,t){return x(e,O,t)}),[O,x]),R=(0,i.useCallback)((function(e,t){I(e,O,t)}),[O,I]),L=(0,i.useCallback)((function(e,t){N(e,O,t)}),[O,N]),F=(0,i.useRef)(null),M=(0,i.useState)(!1),j=M[0],U=M[1],V=(0,i.useState)(!1),B=V[0],q=V[1],K=(0,u.useFocusContext)(),z=(0,i.useMemo)((function(){return m||(0,a.default)("sn:focusable-item-")}),[m]),H=(0,i.useCallback)((function(e){void 0===e&&(e={}),s.SpatialNavigation.setFocus(z,e)}),[z]);return(0,c.default)((function(){var e=F.current;return s.SpatialNavigation.addFocusable({focusKey:z,node:e,parentFocusKey:K,preferredChildFocusKey:b,onEnterPress:D,onEnterRelease:A,onArrowPress:P,onFocus:R,onBlur:L,onUpdateFocus:function(e){return void 0===e&&(e=!1),U(e)},onUpdateHasFocusedChild:function(e){return void 0===e&&(e=!1),q(e)},saveLastFocusedChild:f,trackChildren:d,isFocusBoundary:g,autoRestoreFocus:v,focusable:r}),function(){s.SpatialNavigation.removeFocusable({focusKey:z})}})),(0,i.useEffect)((function(){var e=F.current;s.SpatialNavigation.updateFocusable(z,{node:e,preferredChildFocusKey:b,focusable:r,isFocusBoundary:g,onEnterPress:D,onEnterRelease:A,onArrowPress:P,onFocus:R,onBlur:L})}),[z,b,r,g,D,A,P,R,L]),{ref:F,focusSelf:H,focused:j,hasFocusedChild:B,focusKey:z,setFocus:s.SpatialNavigation.isNativeMode()?o.default:s.SpatialNavigation.setFocus,navigateByDirection:s.SpatialNavigation.navigateByDirection,pause:s.SpatialNavigation.pause,resume:s.SpatialNavigation.resume,updateAllLayouts:s.SpatialNavigation.updateAllLayouts,getCurrentFocusKey:s.SpatialNavigation.getCurrentFocusKey}}},893:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusContext=t.FocusContext=void 0;var r=n(156),i=n(654);t.FocusContext=(0,r.createContext)(i.ROOT_FOCUS_KEY),t.useFocusContext=function(){return(0,r.useContext)(t.FocusContext)}},117:function(t){t.exports=e},747:function(e){e.exports=t},23:function(e){e.exports=n},842:function(e){e.exports=r},682:function(e){e.exports=i},784:function(e){e.exports=o},604:function(e){e.exports=a},432:function(e){e.exports=s},67:function(e){e.exports=u},461:function(e){e.exports=c},156:function(e){e.exports=l}},h={};return function e(t){var n=h[t];if(void 0!==n)return n.exports;var r=h[t]={exports:{}};return f[t].call(r.exports,r,r.exports,e),r.exports}(607)}()}(n(7980),n(823),n(8494),n(4793),n(8537),n(7827),n(8568),n(163),n(1909),n(7259),n(7313))},1725:function(e,t,n){var r=n(781)(n(7289),"DataView");e.exports=r},9748:function(e,t,n){var r=n(6545),i=n(9843),o=n(6266),a=n(7364),s=n(4156);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5745:function(e,t,n){var r=n(329),i=n(9666),o=n(2523),a=n(4397),s=n(3316);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8579:function(e,t,n){var r=n(781)(n(7289),"Map");e.exports=r},3109:function(e,t,n){var r=n(9e3),i=n(7240),o=n(3414),a=n(7140),s=n(5429);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},9946:function(e,t,n){var r=n(781)(n(7289),"Promise");e.exports=r},4199:function(e,t,n){var r=n(781)(n(7289),"Set");e.exports=r},4526:function(e,t,n){var r=n(3109),i=n(5845),o=n(5544);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},7016:function(e,t,n){var r=n(5745),i=n(3653),o=n(3359),a=n(2571),s=n(1698),u=n(5883);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},8624:function(e,t,n){var r=n(7289).Symbol;e.exports=r},6759:function(e,t,n){var r=n(7289).Uint8Array;e.exports=r},3289:function(e,t,n){var r=n(781)(n(7289),"WeakMap");e.exports=r},1686:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4235:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},4951:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},4405:function(e,t,n){var r=n(9038);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},6722:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},3200:function(e,t,n){var r=n(4499),i=n(2794),o=n(5585),a=n(667),s=n(674),u=n(3153),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||p.push(y);return p}},5434:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},5349:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},9330:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},9194:function(e,t,n){var r=n(3666);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},9131:function(e,t,n){var r=n(4526),i=n(4405),o=n(6722),a=n(5434),s=n(6902),u=n(8905);e.exports=function(e,t,n,c){var l=-1,f=i,h=!0,d=e.length,p=[],v=t.length;if(!d)return p;n&&(t=a(t,s(n))),c?(f=o,h=!1):t.length>=200&&(f=u,h=!1,t=new r(t));e:for(;++l<d;){var y=e[l],g=null==n?y:n(y);if(y=c||0!==y?y:0,h&&g===g){for(var m=v;m--;)if(t[m]===g)continue e;p.push(y)}else f(t,g,c)||p.push(y)}return p}},2785:function(e,t,n){var r=n(5705),i=n(6428)(r);e.exports=i},9673:function(e,t,n){var r=n(2785);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},3527:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},450:function(e){e.exports=function(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}},3255:function(e,t,n){var r=n(5349),i=n(9798);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},5461:function(e,t,n){var r=n(2550)();e.exports=r},5705:function(e,t,n){var r=n(5461),i=n(6385);e.exports=function(e,t){return e&&r(e,t,i)}},207:function(e,t,n){var r=n(4534),i=n(925);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},2606:function(e,t,n){var r=n(5349),i=n(5585);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},8665:function(e,t,n){var r=n(8624),i=n(3596),o=n(8186),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},1966:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},9038:function(e,t,n){var r=n(3527),i=n(7700),o=n(3245);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},1276:function(e,t,n){var r=n(8665),i=n(9752);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7081:function(e,t,n){var r=n(9110),i=n(9752);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},9110:function(e,t,n){var r=n(7016),i=n(4132),o=n(9820),a=n(6353),s=n(8466),u=n(5585),c=n(667),l=n(3153),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,g){var m=u(e),b=u(t),w=m?h:s(e),E=b?h:s(t),_=(w=w==f?d:w)==d,S=(E=E==f?d:E)==d,T=w==E;if(T&&c(e)){if(!c(t))return!1;m=!0,_=!1}if(T&&!_)return g||(g=new r),m||l(e)?i(e,t,n,v,y,g):o(e,t,w,n,v,y,g);if(!(1&n)){var x=_&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(x||k){var I=x?e.value():e,C=k?t.value():t;return g||(g=new r),y(I,C,n,v,g)}}return!!T&&(g||(g=new r),a(e,t,n,v,y,g))}},9280:function(e,t,n){var r=n(7016),i=n(7081);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(o)var p=o(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},7700:function(e){e.exports=function(e){return e!==e}},3186:function(e,t,n){var r=n(375),i=n(5401),o=n(1845),a=n(2043),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},7499:function(e,t,n){var r=n(8665),i=n(4276),o=n(9752),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},1186:function(e,t,n){var r=n(5662),i=n(8768),o=n(9908),a=n(5585),s=n(4445);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3409:function(e,t,n){var r=n(6132),i=n(8723),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},1839:function(e,t,n){var r=n(2785),i=n(2114);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},5662:function(e,t,n){var r=n(9280),i=n(5113),o=n(2093);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},8768:function(e,t,n){var r=n(7081),i=n(9706),o=n(9775),a=n(8939),s=n(9253),u=n(2093),c=n(925);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},9318:function(e,t,n){var r=n(5434),i=n(207),o=n(1186),a=n(1839),s=n(78),u=n(6902),c=n(9674),l=n(9908),f=n(5585);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var h=-1;t=r(t,u(o));var d=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(d,(function(e,t){return c(e,t,n)}))}},1125:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},171:function(e,t,n){var r=n(207);e.exports=function(e){return function(t){return r(t,e)}}},4409:function(e,t,n){var r=n(9908),i=n(5313),o=n(3457);e.exports=function(e,t){return o(i(e,t,r),e+"")}},3145:function(e,t,n){var r=n(3194),i=n(1438),o=n(9908),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},78:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},4499:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1612:function(e,t,n){var r=n(8624),i=n(5434),o=n(5585),a=n(2060),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},2306:function(e,t,n){var r=n(5510),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6902:function(e){e.exports=function(e){return function(t){return e(t)}}},8905:function(e){e.exports=function(e,t){return e.has(t)}},7169:function(e,t,n){var r=n(9908);e.exports=function(e){return"function"==typeof e?e:r}},4534:function(e,t,n){var r=n(5585),i=n(8939),o=n(3002),a=n(1822);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5445:function(e,t,n){var r=n(2060);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,u=null===t,c=t===t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},9674:function(e,t,n){var r=n(5445);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},7683:function(e,t,n){var r=n(7289)["__core-js_shared__"];e.exports=r},6428:function(e,t,n){var r=n(2114);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},2550:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},1438:function(e,t,n){var r=n(781),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},4132:function(e,t,n){var r=n(4526),i=n(9330),o=n(8905);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var g=e[p],m=t[p];if(a)var b=c?a(m,g,p,t,e,u):a(g,m,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(g===e||s(g,e,n,a,u)))return y.push(t)}))){v=!1;break}}else if(g!==m&&!s(g,m,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},9820:function(e,t,n){var r=n(8624),i=n(6759),o=n(3666),a=n(4132),s=n(258),u=n(3671),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=a(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6353:function(e,t,n){var r=n(7253),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=u;++f<l;){var g=e[h=c[f]],m=t[h];if(o)var b=u?o(m,g,h,t,e,s):o(g,m,h,e,t,s);if(!(void 0===b?g===m||a(g,m,n,o,s):b)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(v=!1)}return s.delete(e),s.delete(t),v}},2692:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7253:function(e,t,n){var r=n(2606),i=n(6504),o=n(6385);e.exports=function(e){return r(e,o,i)}},6911:function(e,t,n){var r=n(1591);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},5113:function(e,t,n){var r=n(9253),i=n(6385);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},781:function(e,t,n){var r=n(3186),i=n(760);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},3596:function(e,t,n){var r=n(8624),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},6504:function(e,t,n){var r=n(4951),i=n(2554),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8466:function(e,t,n){var r=n(1725),i=n(8579),o=n(9946),a=n(4199),s=n(3289),u=n(8665),c=n(2043),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),g=c(o),m=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=h||s&&w(new s)!=d)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case g:return f;case m:return h;case b:return d}return t}),e.exports=w},760:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1898:function(e,t,n){var r=n(4534),i=n(2794),o=n(5585),a=n(674),s=n(4276),u=n(925);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||i(e))}},6545:function(e,t,n){var r=n(1353);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9843:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6266:function(e,t,n){var r=n(1353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},7364:function(e,t,n){var r=n(1353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},4156:function(e,t,n){var r=n(1353);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9798:function(e,t,n){var r=n(8624),i=n(2794),o=n(5585),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},674:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3271:function(e,t,n){var r=n(3666),i=n(2114),o=n(674),a=n(1845);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},8939:function(e,t,n){var r=n(5585),i=n(2060),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},1591:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5401:function(e,t,n){var r=n(7683),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6132:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9253:function(e,t,n){var r=n(1845);e.exports=function(e){return e===e&&!r(e)}},329:function(e){e.exports=function(){this.__data__=[],this.size=0}},9666:function(e,t,n){var r=n(9194),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},2523:function(e,t,n){var r=n(9194);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4397:function(e,t,n){var r=n(9194);e.exports=function(e){return r(this.__data__,e)>-1}},3316:function(e,t,n){var r=n(9194);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},9e3:function(e,t,n){var r=n(9748),i=n(5745),o=n(8579);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7240:function(e,t,n){var r=n(6911);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},3414:function(e,t,n){var r=n(6911);e.exports=function(e){return r(this,e).get(e)}},7140:function(e,t,n){var r=n(6911);e.exports=function(e){return r(this,e).has(e)}},5429:function(e,t,n){var r=n(6911);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},258:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},2093:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3679:function(e,t,n){var r=n(2736);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1353:function(e,t,n){var r=n(781)(Object,"create");e.exports=r},8723:function(e,t,n){var r=n(9698)(Object.keys,Object);e.exports=r},7785:function(e,t,n){e=n.nmd(e);var r=n(2692),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},8186:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},5313:function(e,t,n){var r=n(1686),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},7289:function(e,t,n){var r=n(2692),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5845:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},5544:function(e){e.exports=function(e){return this.__data__.has(e)}},3671:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},3457:function(e,t,n){var r=n(3145),i=n(1639)(r);e.exports=i},1639:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3653:function(e,t,n){var r=n(5745);e.exports=function(){this.__data__=new r,this.size=0}},3359:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2571:function(e){e.exports=function(e){return this.__data__.get(e)}},1698:function(e){e.exports=function(e){return this.__data__.has(e)}},5883:function(e,t,n){var r=n(5745),i=n(8579),o=n(3109);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},3245:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},3002:function(e,t,n){var r=n(3679),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},925:function(e,t,n){var r=n(2060);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},2043:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},5510:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3194:function(e){e.exports=function(e){return function(){return e}}},2279:function(e,t,n){var r=n(1845),i=n(6170),o=n(7923),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,h,d,p=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=u,r=c;return u=c=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,h=setTimeout(E,t),v?m(e):f}function w(e){var n=e-d;return void 0===d||n>=t||n<0||y&&e-p>=l}function E(){var e=i();if(w(e))return _(e);h=setTimeout(E,function(e){var n=t-(e-d);return y?s(n,l-(e-p)):n}(e))}function _(e){return h=void 0,g&&u?m(e):(u=c=void 0,f)}function S(){var e=i(),n=w(e);if(u=arguments,c=this,d=e,n){if(void 0===h)return b(d);if(y)return clearTimeout(h),h=setTimeout(E,t),m(d)}return void 0===h&&(h=setTimeout(E,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(y="maxWait"in n)?a(o(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=d=c=h=void 0},S.flush=function(){return void 0===h?f:_(i())},S}},7980:function(e,t,n){var r=n(9131),i=n(3255),o=n(4409),a=n(9312),s=o((function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]}));e.exports=s},3666:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},823:function(e,t,n){var r=n(4951),i=n(9673),o=n(1186),a=n(5585);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},8494:function(e,t,n){var r=n(450),i=n(5705),o=n(1186);e.exports=function(e,t){return r(e,o(t,3),i)}},4793:function(e,t,n){e.exports=n(2538)},8537:function(e,t,n){var r=n(4235),i=n(2785),o=n(7169),a=n(5585);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},7827:function(e,t,n){var r=n(5705),i=n(7169);e.exports=function(e,t){return e&&r(e,i(t))}},9706:function(e,t,n){var r=n(207);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},9775:function(e,t,n){var r=n(1966),i=n(1898);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2538:function(e){e.exports=function(e){return e&&e.length?e[0]:void 0}},9908:function(e){e.exports=function(e){return e}},2794:function(e,t,n){var r=n(1276),i=n(9752),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},5585:function(e){var t=Array.isArray;e.exports=t},2114:function(e,t,n){var r=n(375),i=n(4276);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},9312:function(e,t,n){var r=n(2114),i=n(9752);e.exports=function(e){return i(e)&&r(e)}},667:function(e,t,n){e=n.nmd(e);var r=n(7289),i=n(5535),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},375:function(e,t,n){var r=n(8665),i=n(1845);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4276:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1845:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9752:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},2060:function(e,t,n){var r=n(8665),i=n(9752);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},3153:function(e,t,n){var r=n(7499),i=n(6902),o=n(7785),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},6385:function(e,t,n){var r=n(3200),i=n(3409),o=n(2114);e.exports=function(e){return o(e)?r(e):i(e)}},2736:function(e,t,n){var r=n(3109);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},8568:function(e){e.exports=function(){}},6170:function(e,t,n){var r=n(7289);e.exports=function(){return r.Date.now()}},4445:function(e,t,n){var r=n(1125),i=n(171),o=n(8939),a=n(925);e.exports=function(e){return o(e)?r(a(e)):i(e)}},163:function(e,t,n){var r=n(3255),i=n(9318),o=n(4409),a=n(3271),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},2554:function(e){e.exports=function(){return[]}},5535:function(e){e.exports=function(){return!1}},1909:function(e,t,n){var r=n(2279),i=n(1845);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},7923:function(e,t,n){var r=n(2306),i=n(1845),o=n(2060),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1822:function(e,t,n){var r=n(1612);e.exports=function(e){return null==e?"":r(e)}},7259:function(e,t,n){var r=n(1822),i=0;e.exports=function(e){var t=++i;return r(e)+t}},1843:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},6900:function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(7313),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return 0===e?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+s:((o=0)||(o=.3*r),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},easeOutElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+s:((o=0)||(o=.3*r),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:2==(e/=r/2)?t+s:((o=0)||(o=r*(.3*1.5)),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var o=n-t;return void 0===i&&(i=1.70158),(e/=r/2)<1?o/2*(e*e*((1+(i*=1.525))*e-i))+t:o/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,t,n,i){var o=n-t;return o-r.easeOutBounce(i-e,0,o,i)+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){var o=n-t;return e<i/2?.5*r.easeInBounce(2*e,0,o,i)+t:.5*r.easeOutBounce(2*e-i,0,o,i)+.5*o+t}};e.exports=r},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactConfetti",(function(){return V}));var r,i,o=n(0),a=n.n(o),s=n(1),u=n.n(s);function c(e,t){return e+Math.random()*(t-e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(r||(r={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(i||(i={}));var h=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"context",void 0),f(this,"radius",void 0),f(this,"x",void 0),f(this,"y",void 0),f(this,"w",void 0),f(this,"h",void 0),f(this,"vx",void 0),f(this,"vy",void 0),f(this,"shape",void 0),f(this,"angle",void 0),f(this,"angularSpin",void 0),f(this,"color",void 0),f(this,"rotateY",void 0),f(this,"rotationDirection",void 0),f(this,"getOptions",void 0),this.getOptions=n;var a,s,u=this.getOptions(),l=u.colors,h=u.initialVelocityX,d=u.initialVelocityY;this.context=t,this.x=r,this.y=o,this.w=c(5,20),this.h=c(5,20),this.radius=c(5,10),this.vx="number"==typeof h?c(-h,h):c(h.min,h.max),this.vy="number"==typeof d?c(-d,0):c(d.min,d.max),this.shape=(a=0,s=2,Math.floor(a+Math.random()*(s-a+1))),this.angle=c(0,360)*Math.PI/180,this.angularSpin=c(-.2,.2),this.color=l[Math.floor(Math.random()*l.length)],this.rotateY=c(0,1),this.rotationDirection=c(0,1)?i.Positive:i.Negative}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,n=e.wind,o=e.friction,a=e.opacity,s=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=o,this.vy*=o,this.rotateY>=1&&this.rotationDirection===i.Positive?this.rotationDirection=i.Negative:this.rotateY<=-1&&this.rotationDirection===i.Negative&&(this.rotationDirection=i.Positive);var u=.1*this.rotationDirection;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&l(t.prototype,n),o&&l(t,o),e}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"canvas",void 0),d(this,"context",void 0),d(this,"getOptions",void 0),d(this,"x",0),d(this,"y",0),d(this,"w",0),d(this,"h",0),d(this,"lastNumberOfPieces",0),d(this,"tweenInitTime",Date.now()),d(this,"particles",[]),d(this,"particlesGenerated",0),d(this,"removeParticleAt",(function(e){r.particles.splice(e,1)})),d(this,"getParticle",(function(){var e=c(r.x,r.w+r.x),t=c(r.y,r.h+r.y);return new h(r.context,r.getOptions,e,t)})),d(this,"animate",(function(){var e=r.canvas,t=r.context,n=r.particlesGenerated,i=r.lastNumberOfPieces,o=r.getOptions(),a=o.run,s=o.recycle,u=o.numberOfPieces,c=o.debug,l=o.tweenFunction,f=o.tweenDuration;if(!a)return!1;var h=r.particles.length,d=s?h:n,p=Date.now();if(d<u){i!==u&&(r.tweenInitTime=p,r.lastNumberOfPieces=u);for(var v=r.tweenInitTime,y=l(p-v>f?f:Math.max(0,p-v),d,u,f),g=Math.round(y-d),m=0;m<g;m++)r.particles.push(r.getParticle());r.particlesGenerated+=g}return c&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(h),e.width-10,e.height-20)),r.particles.forEach((function(t,n){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(s&&d<=u?r.particles[n]=r.getParticle():r.removeParticleAt(n))})),h>0||d<u})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=n};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"canvas",void 0),m(this,"context",void 0),m(this,"_options",void 0),m(this,"generator",void 0),m(this,"rafId",void 0),m(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:r.canvas.width,h:0}};r._options=y(y(y({},t),b),e),Object.assign(r,e.confettiSource)})),m(this,"update",(function(){var e=r.options,t=e.run,n=e.onConfettiComplete,i=r.canvas,o=r.context;t&&(o.fillStyle="white",o.clearRect(0,0,i.width,i.height)),r.generator.animate()?r.rafId=requestAnimationFrame(r.update):(n&&"function"==typeof n&&r.generator.particlesGenerated>0&&n.call(r,r),r._options.run=!1)})),m(this,"reset",(function(){r.generator&&r.generator.particlesGenerated>0&&(r.generator.particlesGenerated=0,r.generator.particles=[],r.generator.lastNumberOfPieces=0)})),m(this,"stop",(function(){r.options={run:!1},r.rafId&&(cancelAnimationFrame(r.rafId),r.rafId=void 0)})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new p(this.canvas,(function(){return r.options})),this.options=n,this.update()}var t,n,r;return t=e,(n=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&g(t.prototype,n),r&&g(t,r),e}();function E(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=a.a.createRef(),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=A(o);function o(e){var t;N(this,o);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return F(R(t=i.call.apply(i,[this,e].concat(r))),"canvas",a.a.createRef()),F(R(t),"confetti",void 0),t.canvas=e.canvasRef||M,t}return t=o,(n=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=U(this.props)[0];this.confetti=new w(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=U(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=k(U(this.props),2),t=e[0],n=e[1],r=x({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return a.a.createElement("canvas",S({width:t.width,height:t.height,ref:this.canvas},n,{style:r}))}}])&&O(t.prototype,n),r&&O(t,r),o}(o.Component);function U(e){var t={},n={},r=[].concat(E(Object.keys(b)),["confettiSource","drawShape","onConfettiComplete"]),i=["canvasRef"];for(var o in e){var a=e[o];r.includes(o)?t[o]=a:i.includes(o)?i[o]=a:n[o]=a}return[t,n,{}]}F(j,"defaultProps",x({},b)),F(j,"displayName","ReactConfetti");var V=a.a.forwardRef((function(e,t){return a.a.createElement(j,S({canvasRef:t},e))}));t.default=V}]).default)},534:function(e,t,n){"use strict";var r=n(7313),i=n(1843),o=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,T=60107,x=60108,k=60114,I=60109,C=60110,N=60112,O=60113,D=60120,A=60115,P=60116,R=60121,L=60128,F=60129,M=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),S=U("react.portal"),T=U("react.fragment"),x=U("react.strict_mode"),k=U("react.profiler"),I=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),D=U("react.suspense_list"),A=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),F=U("react.debug_trace_mode"),M=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function K(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var z=!1;function H(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function W(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case k:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return Q(e.type);case R:return Q(e._render);case P:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ie(e.stateNode,e.type,t))}}function De(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Fe=Pe,Me=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Le(),Ae())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){Be=!1}function Ke(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,He=null,We=!1,Qe=null,Ge={onError:function(e){ze=!0,He=e}};function $e(e,t,n,r,i,o,a,s,u){ze=!1,He=null,Ke.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function _t(e){function t(t){return Et(t,e)}if(0<at.length){Et(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&Et(st,e),null!==ut&&Et(ut,e),null!==ct&&Et(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},xt={},kt={};function It(e){if(xt[e])return xt[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return xt[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),Ot=It("animationstart"),Dt=It("transitionend"),At=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ft=8;function Mt(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Ft=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Ft):0!==(s&=o)&&(r=Mt(s),i=Ft)}else 0!==(o=n&~a)?(r=Mt(o),i=Ft):0!==s&&(r=Mt(s),i=Ft);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Ft)return t;Ft=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Qt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||Le();var i=Jt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Xt(e,t,n,r){Gt(Qt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,yt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(En),Sn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(Nn),Dn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Rn),Fn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Mn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),qn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){De(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Gn(t,Yn,e,ke(e)),e=Xn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,Er=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==J(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&hr(Er,r)||(Er=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<Tr.length;xr++)Pt.set(Tr[xr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=He;ze=!1,He=null,We||(We=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(We)throw e=Qe,We=!1,Qe=null,e}function Or(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Dr]||(e[Dr]=!0,s.forEach((function(t){Ir.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Fe(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=ke(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ct:case Nt:case Ot:u=wn;break;case Dt:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Zn;else if(Qn(s))if(er)y=cr;else{y=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?Gn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Qn(g)||"true"===g.contentEditable)&&(br=g,wr=r,Er=null);break;case"focusout":Er=wr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(g=Mr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Kn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Nr(a,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,o))&&a.unshift(Fr(n,u,s)):i||null!=(u=Ve(n,o))&&a.push(Fr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var Br=null,qr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,Ti=null,xi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Oi=o.unstable_now,Di=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Mi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Oi(),Ki=1e4>qi?Oi:function(){return Oi()-qi};function zi(){switch(Di()){case Ai:return 99;case Pi:return 98;case Ri:return 97;case Li:return 96;case Fi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ri;case 96:return Li;case 95:return Fi;default:throw Error(a(332))}}function Wi(e,t){return e=Hi(e),xi(e,t)}function Qi(e,t,n){return e=Hi(e),ki(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}$i()}function $i(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),ki(Ai,Gi),n}finally{Bi=!1}}}var Yi=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:di.current,i.context=yi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Qu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Gu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Qu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||q(t))return(t=Gu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||q(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Gu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Qu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return v(e,r,o,u);if(q(o))return y(e,r,o,u);if(l&&xo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(e.type)||"Component"))}return n(e,r)}}var Io=ko(!0),Co=ko(!1),No={},Oo=ci(No),Do=ci(No),Ao=ci(No);function Po(e){if(e===No)throw Error(a(174));return e}function Ro(e,t){switch(fi(Ao,t),fi(Do,e),fi(Oo,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oo),fi(Oo,t)}function Lo(){li(Oo),li(Do),li(Ao)}function Fo(e){Po(Ao.current);var t=Po(Oo.current),n=pe(t,e.type);t!==n&&(fi(Do,e),fi(Oo,n))}function Mo(e){Do.current===e&&(li(Oo),li(Do))}var jo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,Bo=null,qo=!1;function Ko(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(qo){var t=Bo;if(t){var n=t;if(!zo(e,t)){if(!(t=Gr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Vo=e);Ko(Vo,n)}Vo=e,Bo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Vo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Qo(e){if(e!==Vo)return!1;if(!qo)return Wo(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Bo;t;)Ko(e,t),t=Gr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=Vo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Bo=Vo=null,qo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=E.ReactCurrentDispatcher,Jo=E.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Pa:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=La,e=n(r,i)}while(ia)}if(Xo.current=Aa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Da.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ya(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Da.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function Ea(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function _a(e,t){return wa(516,4,e,t)}function Sa(e,t){return Ea(516,4,e,t)}function Ta(e,t){return Ea(4,2,e,t)}function xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ea(4,2,xa.bind(null,t,e),n)}function Ia(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t){var n=zi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Da(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Aa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Da.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ya,useDebugValue:Ia,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return _a((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return ma(e=Oa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ya(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ta,useMemo:Na,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ia,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:Ta,useMemo:Na,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ia,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},Fa=E.ReactCurrentOwner,Ma=!1;function ja(e,t,n,r){t.child=null===e?Co(t,null,n,r):Io(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return ja(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=gi(n)?vi:di.current;return o=yi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(gi(n)){var o=!0;Ei(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=yi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Eo(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=yi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Eo(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),os(e,t,o);r=t.stateNode,Fa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Qa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var Ga,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(jo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Gu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(a,s),null!==e?r=Wu(e,r):(r=Gu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Lo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Po(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Oo.current),Qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Or(kr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ga(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Or(kr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Ao.current),Po(Oo.current),Qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&Bs)&&0===(134217727&qs)||mu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=jo.current,fi(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(jo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Oo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Te(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Fu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:vs(t);break;case 4:xs(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Es(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(Es(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Ts(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Ki(),ms(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Os=E.ReactCurrentDispatcher,Ds=E.ReactCurrentOwner,As=0,Ps=null,Rs=null,Ls=0,Fs=0,Ms=ci(0),js=0,Us=null,Vs=0,Bs=0,qs=0,Ks=0,zs=null,Hs=0,Ws=1/0;function Qs(){Ws=Ki()+500}var Gs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&As)?Ki():-1!==su?su:su=Ki()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==zs?zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&As)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Kt(e,t,n),e===Ps&&(qs|=t,4===js&&mu(e,Ls));var r=zi();1===t?0!==(8&As)&&0===(48&As)?bu(e):(yu(e,n),0===As&&(Qs(),Gi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Ft;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Ps?Ls:0),t=Ft,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Vi=ki(Ai,$i)):Ui.push(n),n=Mi):14===t?n=Qi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Qi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=As;As|=16;var o=ku();for(Ps===e&&Ls===r||(Qs(),Tu(e,r));;)try{Nu();break}catch(u){xu(e,u)}if(no(),Os.current=o,As=i,null!==Rs?r=0:(Ps=null,Ls=0,r=js),0!==(Vs&qs))Tu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Tu(e,0),mu(e,n),yu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Hs+500-Ki())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Au.bind(null,e),r);break}Au(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return yu(e,Ki()),e.callbackNode===t?gu.bind(null,e):null}function mu(e,t){for(t&=~Ks,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(Vs&qs)&&(n=Iu(e,t=jt(e,t)))}else n=Iu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Tu(e,0),mu(e,t),yu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),yu(e,Ki()),null}function wu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Qs(),Gi())}}function Eu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Qs(),Gi())}}function _u(e,t){fi(Ms,Fs),Fs|=t,Vs|=t}function Su(){Fs=Ms.current,li(Ms)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Lo(),li(pi),li(di),Yo();break;case 5:Mo(r);break;case 4:Lo();break;case 13:case 19:li(jo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ps=e,Rs=Wu(e.current,null),Ls=Fs=Vs=t,js=0,Us=null,Ks=qs=Bs=0}function xu(e,t){for(;;){var n=Rs;try{if(no(),Xo.current=Aa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ds.current=null,null===n||null===n.return){js=1,Us=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&jo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var g=new Set;g.add(c),h.updateQueue=g}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var E=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof E.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Js||!Js.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Du(n)}catch(S){t=S,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function ku(){var e=Os.current;return Os.current=Aa,null===e?Aa:e}function Iu(e,t){var n=As;As|=16;var r=ku();for(Ps===e&&Ls===t||Tu(e,t);;)try{Cu();break}catch(i){xu(e,i)}if(no(),As=n,Os.current=r,null!==Rs)throw Error(a(261));return Ps=null,Ls=0,js}function Cu(){for(;null!==Rs;)Ou(Rs)}function Nu(){for(;null!==Rs&&!Ci();)Ou(Rs)}function Ou(e){var t=Gs(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Du(e):Rs=t,Ds.current=null}function Du(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Fs)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===js&&(js=5)}function Au(e){var t=zi();return Wi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Rs=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Ds.current=null,Br=$t,gr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(k){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,g=null;t:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break t;if(g===u&&++p===o&&(h=f),g===c&&++v===l&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&me($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:_s($s),$s.flags&=-3;break;case 6:_s($s),$s.flags&=-3,ks($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,ks($s.alternate,$s);break;case 4:ks($s.alternate,$s);break;case 8:xs(s,u=$s);var _=u.alternate;ws(u),null!==_&&ws(_)}$s=$s.nextEffect}}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);if(E=qr,w=yr(),b=E.focusedElem,s=E.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!E.extend&&_>s&&(u=s,s=_,_=u),u=pr(b,_),o=pr(b,s),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),_>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!Br,qr=Br=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var S=$s.flags;if(36&S&&gs(b,$s.alternate,$s),128&S){w=void 0;var T=$s.ref;if(null!==T){var x=$s.stateNode;$s.tag,w=x,"function"===typeof T?T(w):T.current=w}}$s=$s.nextEffect}}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);$s=null,ji(),As=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(k){}if(yu(e,Ki()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&As)||Gi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ys(e,$s),0===(512&t)||Zs||(Zs=!0,Qi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,ju)}return!1}function Fu(e,t){nu.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Gi(),!0}function Uu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Kt(e,1,t),yu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=vu(n,1)))Kt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>Ki()-Hs?Tu(e,0):Ks|=n),yu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Kt(e,t,n),yu(e,n))}function Ku(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Ku(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Gu(n.children,i,o,t);case F:s=8,i|=16;break;case x:s=8,i|=1;break;case k:return(e=zu(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case O:return(e=zu(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case D:return(e=zu(19,n,t,i)).elementType=D,e.lanes=o,e;case M:return $u(n,i,o,t);case j:return(e=zu(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=zu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}Eu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Qa(t),Go();break;case 5:Fo(t);break;case 1:gi(t.type)&&Ei(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(jo,1&jo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Gr(t.stateNode.containerInfo.firstChild),Vo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Go();t=t.child}return t;case 5:return Fo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ka(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Va(e,t,i,o=Xi(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,Ei(t)):e=!1,oo(t,n),wo(t,r,i),_o(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=wu,Re=function(e,t,n,r,i){var o=As;As|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(As=o)&&(Qs(),Gi())}},Le=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Ki())}))}Gi()}(),Lu())},Fe=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Qs(),Gi())}};var uc={Events:[ri,ii,oi,De,Ae,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),Ti=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{As=n,Gi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(Eu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},5918:function(e,t,n){"use strict";n(1843);var r=n(7313),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},306:function(e,t,n){"use strict";var r=n(1843),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(s=e[c],c);u+=I(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function D(){var e=O.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,g=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+m;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(n){throw E.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,E.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>x(a,n))void 0!==u&&0>x(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>x(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],I=[],C=1,N=null,O=3,D=!1,A=!1,P=!1;function R(e){for(var t=S(I);null!==t;){if(null===t.callback)T(I);else{if(!(t.startTime<=e))break;T(I),t.sortIndex=t.expirationTime,_(k,t)}t=S(I)}}function L(e){if(P=!1,R(e),!A)if(null!==S(k))A=!0,n(F);else{var t=S(I);null!==t&&r(L,t.startTime-e)}}function F(e,n){A=!1,P&&(P=!1,i()),D=!0;var o=O;try{for(R(n),N=S(k);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,O=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===S(k)&&T(k),R(n)}else T(k);N=S(k)}if(null!==N)var u=!0;else{var c=S(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,O=o,D=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(I,e),null===S(k)&&e===S(I)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=u,_(k,e),A||D||(A=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(7313),t=n(1168);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(9872),u=n(6417);var c=function(e){var t=(0,s.useFocusable)({onEnterPress:e.onEnterPress,extraProps:e.char}),n=t.ref,r="Keys"+(t.focused?" focused":"")+(e.noMatch?" noMatch":"")+(e.someMatch?" someMatch":"");return(0,u.jsx)("span",{ref:n,className:r,onClick:e.onClick,"data-char":e.char,children:e.specialKeysMapping[e.char]?e.specialKeysMapping[e.char]:e.char})},l=JSON.parse('{"qwerty":[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"],["enter","delete"]],"qwerty-responsive":[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["delete","Z","X","C","V","B","N","M","enter"]]}'),f=window.innerWidth<767?"qwerty-responsive":"qwerty",h={enter:"CHECK",delete:"DEL"};var d=function(t){var n=(0,s.useFocusable)(),r=n.ref,i=n.focusKey,d=n.focusSelf,p=t.layout?t.layout:f,v=o((0,e.useState)([]),2),y=v[0],g=v[1],m=o((0,e.useState)([]),2),b=m[0],w=m[1],E=(0,e.useCallback)((function(){g([]),w([])}),[]),_=(0,e.useCallback)((function(e){console.log("nomatch",e.detail,y);for(var t=a(y),n=0;n<4;n++)t.push(e.detail[n].toUpperCase());g(t)}),[y]),S=(0,e.useCallback)((function(e){console.log("somematch",e.detail,b);for(var t=a(b),n=0;n<4;n++)t.push(e.detail[n].toUpperCase());w(t)}),[b]);function T(e){"enter"===e?document.dispatchEvent(new Event("ENTER")):"delete"===e?document.dispatchEvent(new Event("DELETE")):document.dispatchEvent(new CustomEvent("KEYBOARD_CHAR",{detail:e}))}function x(e){T(e.target.dataset.char)}function k(e){T(e)}return(0,e.useEffect)((function(){void 0!==localStorage.helpShown&&d()}),[d]),(0,e.useEffect)((function(){return document.addEventListener("NO_MATCH",_),document.addEventListener("SOME_MATCH",S),document.addEventListener("NEW_GAME",E),function(){document.removeEventListener("NO_MATCH",_),document.removeEventListener("SOME_MATCH",S),document.removeEventListener("NEW_GAME",E)}}),[_,S,E]),(0,u.jsx)(s.FocusContext.Provider,{value:i,children:(0,u.jsx)("div",{ref:r,className:"Keyboard",children:l[p].map((function(e){return(0,u.jsx)("div",{className:"keyboardRow",children:e.map((function(e){return"enter"===e&&t.autoCheck?null:(0,u.jsx)(c,{noMatch:t.easyMode&&y.includes(e),someMatch:t.easyMode&&b.includes(e),focusKey:e,specialKeysMapping:h,char:e,onClick:x,onEnterPress:k},e)}))},e)}))})})};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=y({},e);delete t.focusKey,delete t.onEnterPress,delete t.parentFocusKey;var n=(0,s.useFocusable)({onEnterPress:e.onEnterPress}),r=n.ref,i=n.focused;return(0,u.jsx)("button",y(y({},t),{},{ref:r,className:"Button "+e.className+(i?" focused":""),children:e.children}))};var m=function(e){var t=(0,s.useFocusable)(),n=t.ref,r=t.focusKey;return(0,u.jsx)(s.FocusContext.Provider,{value:r,children:(0,u.jsxs)("div",{className:"ButtonsContainer",ref:n,children:[(0,u.jsx)(g,{focusKey:"Help",onEnterPress:e.onClickHelpButton,onClick:e.onClickHelpButton,children:"Help"}),(0,u.jsx)(g,{className:"newGameButton",focusKey:"newGameButton",onEnterPress:e.onClickNewGame,onClick:e.onClickNewGame,children:"New"}),(0,u.jsx)(g,{className:"settingsButton",focusKey:"settingsButton",onEnterPress:e.onClickSettings,onClick:e.onClickSettings,children:"Settings"})]})})};var b=function(e){var t=(0,s.useFocusable)(),n=t.ref,r=t.focusKey;return(0,u.jsx)(s.FocusContext.Provider,{value:r,children:(0,u.jsxs)("div",{ref:n,className:"InputContainer",children:[(0,u.jsx)(m,{onClickHelpButton:e.onClickHelpButton,onClickNewGame:function(){document.dispatchEvent(new Event("NEW_GAME"))},onClickSettings:e.onClickSettings}),(0,u.jsx)(d,{focusKey:"Keyboard",easyMode:e.easyMode,autoCheck:e.autoCheck})]})})};function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Qv){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=C(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var N=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=C(e))&&(r&&(r+=" "),r+=t);return r},O=["theme","type"],D=["delay","staleId"];function A(e){return"number"===typeof e&&!isNaN(e)}function P(e){return"boolean"===typeof e}function R(e){return"string"===typeof e}function L(e){return"function"===typeof e}function F(e){return R(e)||L(e)?e:null}function M(e){return null!=e}function j(t){return(0,e.isValidElement)(t)||R(t)||L(t)||A(t)}var U={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},V={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function B(t){var n=t.enter,r=t.exit,i=t.appendPosition,o=void 0!==i&&i,s=t.collapse,u=void 0===s||s,c=t.collapseDuration,l=void 0===c?300:c;return function(t){var i=t.children,s=t.position,c=t.preventExitTransition,f=t.done,h=t.nodeRef,d=t.isIn,p=o?n+"--"+s:n,v=o?r+"--"+s:r,y=(0,e.useRef)(0);return(0,e.useLayoutEffect)((function(){var e=h.current,t=p.split(" "),n=function n(r){var i;r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===y.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,a(t)))};!function(){var r;(r=e.classList).add.apply(r,a(t)),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}()}),[]),(0,e.useEffect)((function(){var e=h.current,t=function t(){e.removeEventListener("animationend",t),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,f,l):f()};d||(c?t():(y.current=1,e.className+=" "+v,e.addEventListener("animationend",t)))}),[d]),e.createElement(e.Fragment,null,i)}}function q(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var K={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,a([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},z=function(t){var n=t.theme,r=t.type,i=I(t,O);return e.createElement("svg",y({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var H={info:function(t){return e.createElement(z,y({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement(z,y({},t),e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement(z,y({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement(z,y({},t),e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function W(t){var n=t.theme,r=t.type,i=t.isLoading,o=t.icon,a=null,s={theme:n,type:r};return!1===o||(L(o)?a=o(s):(0,e.isValidElement)(o)?a=(0,e.cloneElement)(o,s):R(o)||A(o)?a=o:i?a=H.spinner():function(e){return e in H}(r)&&(a=H[r](s))),a}function Q(t){var n=(0,e.useReducer)((function(e){return e+1}),0),r=o(n,2)[1],i=o((0,e.useState)([]),2),s=i[0],u=i[1],c=(0,e.useRef)(null),l=(0,e.useRef)(new Map).current,f=function(e){return-1!==s.indexOf(e)},h=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:f,getToast:function(e){return l.get(e)}}).current;function d(e){var t=e.containerId;!h.props.limit||t&&h.containerId!==t||(h.count-=h.queue.length,h.queue=[])}function p(e){u((function(t){return M(e)?t.filter((function(t){return t!==e})):[]}))}function v(){var e=h.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function y(t,n){var i=n.delay,o=n.staleId,a=I(n,D);if(j(t)&&!function(e){return!c.current||h.props.enableMultiContainer&&e.containerId!==h.props.containerId||l.has(e.toastId)&&null==e.updateId}(a)){var s=a.toastId,u=a.updateId,f=a.data,d=h.props,y=function(){return p(s)},m=null==u;m&&h.count++;var b,w,E={toastId:s,updateId:u,data:f,containerId:a.containerId,isLoading:a.isLoading,theme:a.theme||d.theme,icon:null!=a.icon?a.icon:d.icon,isIn:!1,key:a.key||h.toastKey++,type:a.type,closeToast:y,closeButton:a.closeButton,rtl:d.rtl,position:a.position||d.position,transition:a.transition||d.transition,className:F(a.className||d.toastClassName),bodyClassName:F(a.bodyClassName||d.bodyClassName),style:a.style||d.toastStyle,bodyStyle:a.bodyStyle||d.bodyStyle,onClick:a.onClick||d.onClick,pauseOnHover:P(a.pauseOnHover)?a.pauseOnHover:d.pauseOnHover,pauseOnFocusLoss:P(a.pauseOnFocusLoss)?a.pauseOnFocusLoss:d.pauseOnFocusLoss,draggable:P(a.draggable)?a.draggable:d.draggable,draggablePercent:a.draggablePercent||d.draggablePercent,draggableDirection:a.draggableDirection||d.draggableDirection,closeOnClick:P(a.closeOnClick)?a.closeOnClick:d.closeOnClick,progressClassName:F(a.progressClassName||d.progressClassName),progressStyle:a.progressStyle||d.progressStyle,autoClose:!a.isLoading&&(b=a.autoClose,w=d.autoClose,!1===b||A(b)&&b>0?b:w),hideProgressBar:P(a.hideProgressBar)?a.hideProgressBar:d.hideProgressBar,progress:a.progress,role:a.role||d.role,deleteToast:function(){var e=q(l.get(s),"removed");l.delete(s),K.emit(4,e);var t=h.queue.length;if(h.count=M(s)?h.count-1:h.count-h.displayedToast,h.count<0&&(h.count=0),t>0){var n=M(s)?1:h.props.limit;if(1===t||1===n)h.displayedToast++,v();else{var i=n>t?t:n;h.displayedToast=i;for(var o=0;o<i;o++)v()}}else r()}};E.iconOut=W(E),L(a.onOpen)&&(E.onOpen=a.onOpen),L(a.onClose)&&(E.onClose=a.onClose),E.closeButton=d.closeButton,!1===a.closeButton||j(a.closeButton)?E.closeButton=a.closeButton:!0===a.closeButton&&(E.closeButton=!j(d.closeButton)||d.closeButton);var _=t;(0,e.isValidElement)(t)&&!R(t.type)?_=(0,e.cloneElement)(t,{closeToast:y,toastProps:E,data:f}):L(t)&&(_=t({closeToast:y,toastProps:E,data:f})),d.limit&&d.limit>0&&h.count>d.limit&&m?h.queue.push({toastContent:_,toastProps:E,staleId:o}):A(i)?setTimeout((function(){g(_,E,o)}),i):g(_,E,o)}}function g(e,t,n){var r=t.toastId;n&&l.delete(n);var i={content:e,props:t};l.set(r,i),u((function(e){return[].concat(a(e),[r]).filter((function(e){return e!==n}))})),K.emit(4,q(i,null==i.props.updateId?"added":"updated"))}return(0,e.useEffect)((function(){return h.containerId=t.containerId,K.cancelEmit(3).on(0,y).on(1,(function(e){return c.current&&p(e)})).on(5,d).emit(2,h),function(){l.clear(),K.emit(3,h)}}),[]),(0,e.useEffect)((function(){h.props=t,h.isToastActive=f,h.displayedToast=s.length})),{getToastToRender:function(e){var n=new Map,r=Array.from(l.values());return t.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(t){return e(t[0],t[1])}))},containerRef:c,isToastActive:f}}function G(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function $(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Y(t){var n=o((0,e.useState)(!1),2),r=n[0],i=n[1],a=o((0,e.useState)(!1),2),s=a[0],u=a[1],c=(0,e.useRef)(null),l=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,e.useRef)(t),h=t.autoClose,d=t.pauseOnHover,p=t.closeToast,v=t.onClick,y=t.closeOnClick;function g(e){if(t.draggable){l.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",_),document.addEventListener("touchmove",E),document.addEventListener("touchend",_);var n=c.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=G(e.nativeEvent),l.y=$(e.nativeEvent),"x"===t.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(){if(l.boundingRect){var e=l.boundingRect,n=e.top,r=e.bottom,i=e.left,o=e.right;t.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?w():b()}}function b(){i(!0)}function w(){i(!1)}function E(e){var n=c.current;l.canDrag&&n&&(l.didMove=!0,r&&w(),l.x=G(e),l.y=$(e),"x"===t.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+t.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function _(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",_);var e=c.current;if(l.canDrag&&l.didMove&&e){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return u(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate"+t.draggableDirection+"(0)",e.style.opacity="1"}}(0,e.useEffect)((function(){f.current=t})),(0,e.useEffect)((function(){return c.current&&c.current.addEventListener("d",b,{once:!0}),L(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){var t=f.current;L(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)}}),[]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&function(){document.hasFocus()||w();window.addEventListener("focus",b),window.addEventListener("blur",w)}(),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",w))}}),[t.pauseOnFocusLoss]);var S={onMouseDown:g,onTouchStart:g,onMouseUp:m,onTouchEnd:m};return h&&d&&(S.onMouseEnter=w,S.onMouseLeave=b),y&&(S.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:b,pauseToast:w,isRunning:r,preventExitTransition:s,toastRef:c,eventHandlers:S}}function X(t){var n=t.closeToast,r=t.theme,i=t.ariaLabel,o=void 0===i?"close":i;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function J(t){var n=t.delay,r=t.isRunning,i=t.closeToast,o=t.type,a=t.hide,s=t.className,u=t.style,c=t.controlledProgress,l=t.progress,f=t.rtl,h=t.isIn,d=t.theme,v=y(y({},u),{},{animationDuration:n+"ms",animationPlayState:r?"running":"paused",opacity:a?0:1});c&&(v.transform="scaleX("+l+")");var g=N("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+d,"Toastify__progress-bar--"+o,p({},"Toastify__progress-bar--rtl",f)),m=L(s)?s({rtl:f,type:o,defaultClassName:g}):N(g,s),b=p({},c&&l>=1?"onTransitionEnd":"onAnimationEnd",c&&l<1?null:function(){h&&i()});return e.createElement("div",y({role:"progressbar","aria-hidden":a?"true":"false","aria-label":"notification timer",className:m,style:v},b))}J.defaultProps={type:V.DEFAULT,hide:!1};var Z=function(t){var n=Y(t),r=n.isRunning,i=n.preventExitTransition,o=n.toastRef,a=n.eventHandlers,s=t.closeButton,u=t.children,c=t.autoClose,l=t.onClick,f=t.type,h=t.hideProgressBar,d=t.closeToast,v=t.transition,g=t.position,m=t.className,b=t.style,w=t.bodyClassName,E=t.bodyStyle,_=t.progressClassName,S=t.progressStyle,T=t.updateId,x=t.role,k=t.progress,I=t.rtl,C=t.toastId,O=t.deleteToast,D=t.isIn,A=t.isLoading,P=t.iconOut,R=t.theme,F=N("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+f,p({},"Toastify__toast--rtl",I)),M=L(m)?m({rtl:I,position:g,type:f,defaultClassName:F}):N(F,m),j=!!k,U={closeToast:d,type:f,theme:R},V=null;return!1===s||(V=L(s)?s(U):e.isValidElement(s)?e.cloneElement(s,U):X(U)),e.createElement(v,{isIn:D,done:O,position:g,preventExitTransition:i,nodeRef:o},e.createElement("div",y(y({id:C,onClick:l,className:M},a),{},{style:b,ref:o}),e.createElement("div",y(y({},D&&{role:x}),{},{className:L(w)?w({type:f}):N("Toastify__toast-body",w),style:E}),null!=P&&e.createElement("div",{className:N("Toastify__toast-icon",p({},"Toastify--animate-icon Toastify__zoom-enter",!A))},P),e.createElement("div",null,u)),V,(c||j)&&e.createElement(J,y(y({},T&&!j?{key:"pb-"+T}:{}),{},{rtl:I,theme:R,delay:c,isRunning:r,isIn:D,closeToast:d,hide:h,type:f,style:S,className:_,controlledProgress:j,progress:k}))))},ee=B({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),te=(B({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),B({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),B({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,e.forwardRef)((function(t,n){var r=Q(t),i=r.getToastToRender,o=r.containerRef,a=r.isToastActive,s=t.className,u=t.style,c=t.rtl,l=t.containerId;function f(e){var t=N("Toastify__toast-container","Toastify__toast-container--"+e,p({},"Toastify__toast-container--rtl",c));return L(s)?s({position:e,rtl:c,defaultClassName:t}):N(t,F(s))}return(0,e.useEffect)((function(){n&&(n.current=o.current)}),[]),e.createElement("div",{ref:o,className:"Toastify",id:l},i((function(t,n){var r=n.length?y({},u):y(y({},u),{},{pointerEvents:"none"});return e.createElement("div",{className:f(t),style:r,key:"container-"+t},n.map((function(t,r){var i=t.content,o=t.props;return e.createElement(Z,y(y({},o),{},{isIn:a(o.toastId),style:y(y({},o.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-"+o.key}),i)})))})))})));te.displayName="ToastContainer",te.defaultProps={position:U.TOP_RIGHT,transition:ee,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:X,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var ne,re=new Map,ie=[];function oe(){return Math.random().toString(36).substring(2,9)}function ae(e){return e&&(R(e.toastId)||A(e.toastId))?e.toastId:oe()}function se(e,t){return re.size>0?K.emit(0,e,t):ie.push({content:e,options:t}),t.toastId}function ue(e,t){return y(y({},t),{},{type:t&&t.type||e,toastId:ae(t)})}function ce(e){return function(t,n){return se(t,ue(e,n))}}function le(e,t){return se(e,ue(V.DEFAULT,t))}le.loading=function(e,t){return se(e,ue(V.DEFAULT,y({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},le.promise=function(e,t,n){var r,i=t.pending,o=t.error,a=t.success;i&&(r=R(i)?le.loading(i,n):le.loading(i.render,y(y({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var o=y(y(y({type:e},s),n),{},{data:i}),a=R(t)?{render:t}:t;return r?le.update(r,y(y({},o),a)):le(a.render,y(y({},o),a)),i}le.dismiss(r)},c=L(e)?e():e;return c.then((function(e){return u("success",a,e)})).catch((function(e){return u("error",o,e)})),c},le.success=ce(V.SUCCESS),le.info=ce(V.INFO),le.error=ce(V.ERROR),le.warning=ce(V.WARNING),le.warn=le.warning,le.dark=function(e,t){return se(e,ue(V.DEFAULT,y({theme:"dark"},t)))},le.dismiss=function(e){re.size>0?K.emit(1,e):ie=ie.filter((function(t){return M(e)&&t.options.toastId!==e}))},le.clearWaitingQueue=function(e){return void 0===e&&(e={}),K.emit(5,e)},le.isActive=function(e){var t=!1;return re.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},le.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=re.get(n||ne);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=y(y(y({},r),t),{},{toastId:t.toastId||e,updateId:oe()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,se(a,o)}}),0)},le.done=function(e){le.update(e,{progress:1})},le.onChange=function(e){return K.on(4,e),function(){K.off(4,e)}},le.POSITION=U,le.TYPE=V,K.on(2,(function(e){ne=e.containerId||e,re.set(ne,e),ie.forEach((function(e){K.emit(0,e.content,e.options)})),ie=[]})).on(3,(function(e){re.delete(e.containerId||e),0===re.size&&K.off(0).off(1).off(5)}));var fe=function(e){return(0,u.jsxs)("div",{className:"TryRow",children:[(0,u.jsx)("span",{className:"index",children:e.index+1+"."}),(0,u.jsx)("div",{className:"wordContainer",children:a(Array(10)).map((function(t,n){return(0,u.jsx)("span",{className:"word",children:e.word[n]},e.word[n]||n)}))}),(0,u.jsx)("span",{className:"tryResult",children:e.matchesData&&(0,u.jsxs)("span",{children:[e.matchesData.bulls+"B"," ",e.matchesData.cows+"C"]})})]})},he="ResultsContainer",de=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(o,e);var t,n,r,i=k(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={currentTry:0,currentChar:0,resultData:Array(10).fill(""),matchesData:[],won:!1},t.handleEnter=t.handleEnter.bind(E(t)),t.handleKeychar=t.handleKeychar.bind(E(t)),t.handleDelete=t.handleDelete.bind(E(t)),t.processWord=t.processWord.bind(E(t)),t.resetState=t.resetState.bind(E(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){document.addEventListener("ENTER",this.handleEnter),document.addEventListener("KEYBOARD_CHAR",this.handleKeychar),document.addEventListener("DELETE",this.handleDelete),document.addEventListener("NEW_GAME",this.resetState)}},{key:"componentDidUpdate",value:function(){this.props.words&&this.props.words.length>0&&!this.word&&this.fetchNewWord()}},{key:"fetchNewWord",value:function(){var e,t;this.word=null===(e=this.props.words)||void 0===e?void 0:e[this.randomIntFromInterval(0,(null===(t=this.props.words)||void 0===t?void 0:t.length)-1)].toLowerCase()}},{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"resetState",value:function(){console.log(he,"resetState"),this.fetchNewWord(),this.setState({currentTry:0,currentChar:0,resultData:Array(10).fill(""),matchesData:[],won:!1}),console.log(he,"this.word",this.word)}},{key:"handleEnter",value:function(){console.log(he,"handleEnter",this.state.currentTry,this.state.currentChar,this.state.resultData),4===this.state.currentChar&&(this.processWord()?this.setState({currentChar:0,currentTry:this.state.currentTry+1}):(console.log("Invalid word"),le("Invalid word!")))}},{key:"handleKeychar",value:function(e){var t=this;if(console.log(he,"handleKeychar",e.detail,this.state.currentChar),this.state.currentChar<4)if(this.state.resultData[this.state.currentTry].includes(e.detail))console.log("Cannot have repeat letter!"),le("Cannot have repeat letter!");else{var n=a(this.state.resultData);n[this.state.currentTry]+=e.detail,this.setState({resultData:n,currentChar:this.state.currentChar+1},(function(){4===t.state.currentChar&&t.props.autoCheck&&t.handleEnter()}))}}},{key:"handleDelete",value:function(){if(console.log(he,"handleDelete"),this.state.currentChar>0){var e=a(this.state.resultData);e[this.state.currentTry]=e[this.state.currentTry].substring(0,e[this.state.currentTry].length-1),this.setState({resultData:e,currentChar:this.state.currentChar-1})}}},{key:"processWord",value:function(){var e;console.log(he,"processWord",this.word,this.state.resultData[this.state.currentTry]);var t=this.state.resultData[this.state.currentTry].toLowerCase(),n=0,r=0;if(null===(e=this.props.words)||void 0===e||!e.includes(t))return console.log("Not a valid word"),!1;for(var i=0;i<4;i++)this.word.includes(t[i])&&(this.word[i].toLowerCase()===t[i].toLowerCase()?n++:r++);0===n&&0===r?document.dispatchEvent(new CustomEvent("NO_MATCH",{detail:t})):document.dispatchEvent(new CustomEvent("SOME_MATCH",{detail:t}));var o=a(this.state.matchesData);return o[this.state.currentTry]={bulls:n,cows:r},this.setState({matchesData:o,won:4===n}),4===n&&document.dispatchEvent(new CustomEvent("WIN")),!0}},{key:"render",value:function(){var e=this;console.log(he,"render",this.state.resultData,this.state.currentTry,this.state.currentChar);var t=10-this.state.currentTry;return(0,u.jsxs)("div",{className:"ResultsContainer",children:[this.state.resultData.map((function(t,n){return console.log(he,"resultData.map"),(0,u.jsx)(fe,{word:t,matchesData:e.state.matchesData[n],index:n},n)})),this.state.won&&null!=this.props.words&&(0,u.jsx)("span",{className:"result",children:"You have WON!"}),!this.state.won&&null!=this.props.words&&(t>0?(0,u.jsxs)("span",{className:"result",children:["You have ",10-this.state.currentTry," tries left"]}):(0,u.jsxs)("span",{className:"result",children:["Word was ",this.word,"! Game Over!"]})),null===this.props.words&&(0,u.jsx)("span",{className:"result",children:"Error receiving word"})]})}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(e.Component),pe=de;var ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ve.apply(this,arguments)};Object.create;Object.create;var ye=function(e,t){return ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ye(e,t)};var ge=function(){return ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ge.apply(this,arguments)};Object.create;Object.create;var me=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(me(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},we=function(e){return function(e){var t=me(e);return be.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Ee(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ee(e[n],t[n]));return e}var _e=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Se(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Te(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Qv){return!1}}var xe=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ke.prototype.create),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ye(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),ke=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Ie(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new xe(i,s,r);return u},e}();function Ie(e,t){return e.replace(Ce,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Ce=/\{\$([^}]+)}/g;function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function Oe(e,t){var n=new De(e,t);return n.subscribe.bind(n)}var De=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ae),void 0===r.error&&(r.error=Ae),void 0===r.complete&&(r.complete=Ae);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Qv){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Qv){"undefined"!==typeof console&&console.error&&console.error(Qv)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Ae(){}function Pe(e){return e&&e._delegate?e._delegate:e}function Re(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Qv){o(Qv)}}function s(e){try{u(r.throw(e))}catch(Qv){o(Qv)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Le(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Qv){o=[6,Qv],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Fe(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function je(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ue=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ve="[DEFAULT]",Be=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _e;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Qv){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Qv){if(r)return null;throw Qv}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(Qv){}try{for(var r=Fe(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Me(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Qv){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ve),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Re(this,void 0,void 0,(function(){var e;return Le(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(je(je([],Me(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Me(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ve),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=Ve),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=Fe(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Me(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Fe(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ve?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Nv){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Ve),this.component?this.component.multipleInstances?e:Ve:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var qe,Ke=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Be(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function ze(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var He,We=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(He||(He={}));var Qe,Ge={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},$e=He.INFO,Ye=((qe={})[He.DEBUG]="log",qe[He.VERBOSE]="log",qe[He.INFO]="info",qe[He.WARN]="warn",qe[He.ERROR]="error",qe),Xe=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Ye[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,ze(["["+i+"]  "+e.name+":"],n))}},Je=function(){function e(e){this.name=e,this._logLevel=$e,this._logHandler=Xe,this._userLogHandler=null,We.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in He))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?Ge[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,He.DEBUG],e)),this._logHandler.apply(this,ze([this,He.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,He.VERBOSE],e)),this._logHandler.apply(this,ze([this,He.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,He.INFO],e)),this._logHandler.apply(this,ze([this,He.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,He.WARN],e)),this._logHandler.apply(this,ze([this,He.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,ze([this,He.ERROR],e)),this._logHandler.apply(this,ze([this,He.ERROR],e))},e}();function Ze(e){We.forEach((function(t){t.setLogLevel(e)}))}var et,tt=((Qe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Qe["bad-app-name"]="Illegal App name: '{$appName}",Qe["duplicate-app"]="Firebase App named '{$appName}' already exists",Qe["app-deleted"]="Firebase App named '{$appName}' already deleted",Qe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Qe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Qe),nt=new ke("app","Firebase",tt),rt="@firebase/app",it="[DEFAULT]",ot=((et={})[rt]="fire-core",et["@firebase/analytics"]="fire-analytics",et["@firebase/app-check"]="fire-app-check",et["@firebase/auth"]="fire-auth",et["@firebase/database"]="fire-rtdb",et["@firebase/functions"]="fire-fn",et["@firebase/installations"]="fire-iid",et["@firebase/messaging"]="fire-fcm",et["@firebase/performance"]="fire-perf",et["@firebase/remote-config"]="fire-rc",et["@firebase/storage"]="fire-gcs",et["@firebase/firestore"]="fire-fst",et["fire-js"]="fire-js",et["firebase-wrapper"]="fire-js-all",et),at=new Je("@firebase/app"),st=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Ee(void 0,e),this.container=new Ke(t.name),this._addComponent(new Ue("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=it),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=it),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Qv){at.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Qv)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw nt.create("app-deleted",{appName:this.name_})},e}();st.prototype.name&&st.prototype.options||st.prototype.delete||console.log("dc");function ut(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=it);var a=o.name;if("string"!==typeof a||!a)throw nt.create("bad-app-name",{appName:String(a)});if(Ne(t,a))throw nt.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ot[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void at.warn(u.join(" "))}o(new Ue(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Ze,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw nt.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Ge[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:He[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=We;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Ne(t,e=e||it))throw nt.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return at.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw nt.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Ee(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var ct=function e(){var t=ut(st);return t.INTERNAL=ve(ve({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ee(t,e)},createSubscribe:Oe,ErrorFactory:ke,deepExtend:Ee}),t}(),lt=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){at.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&at.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ht=ct.initializeApp;ct.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Te()&&at.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ht.apply(void 0,e)};var dt=ct;!function(e,t){e.INTERNAL.registerComponent(new Ue("platform-logger",(function(e){return new lt(e)}),"PRIVATE")),e.registerVersion(rt,"0.6.30",t),e.registerVersion("fire-js","")}(dt);var pt=dt,vt="8.10.0";pt.registerVersion("firebase",vt,"app"),pt.SDK_VERSION=vt;var yt=function(e,t){return yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yt(e,t)};function gt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function mt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Qv){o(Qv)}}function s(e){try{u(r.throw(e))}catch(Qv){o(Qv)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function bt(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Qv){o=[6,Qv],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function wt(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Et=function(e,t){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Et(e,t)};function _t(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var St,Tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xt=xt||{},kt=Tt||self;function It(){}function Ct(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Nt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function At(e,t,n){return e.call.apply(e.bind,arguments)}function Pt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rt(e,t,n){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?At:Pt).apply(null,arguments)}function Lt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ft(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Mt(){this.s=this.s,this.o=this.o}var jt={};Mt.prototype.s=!1,Mt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ot)&&e[Ot]||(e[Ot]=++Dt)}(this);delete jt[e]}},Mt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ut=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Vt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Bt(e){return Array.prototype.concat.apply([],arguments)}function qt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kt(e){return/^[\s\xa0]*$/.test(e)}var zt,Ht=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wt(e,t){return-1!=e.indexOf(t)}function Qt(e,t){return e<t?-1:e>t?1:0}e:{var Gt=kt.navigator;if(Gt){var $t=Gt.userAgent;if($t){zt=$t;break e}}zt=""}function Yt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Xt(e){var t={};for(var n in e)t[n]=e[n];return t}var Jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Jt.length;o++)n=Jt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function en(e){return en[" "](e),e}en[" "]=It;var tn,nn=Wt(zt,"Opera"),rn=Wt(zt,"Trident")||Wt(zt,"MSIE"),on=Wt(zt,"Edge"),an=on||rn,sn=Wt(zt,"Gecko")&&!(Wt(zt.toLowerCase(),"webkit")&&!Wt(zt,"Edge"))&&!(Wt(zt,"Trident")||Wt(zt,"MSIE"))&&!Wt(zt,"Edge"),un=Wt(zt.toLowerCase(),"webkit")&&!Wt(zt,"Edge");function cn(){var e=kt.document;return e?e.documentMode:void 0}e:{var ln="",fn=function(){var e=zt;return sn?/rv:([^\);]+)(\)|;)/.exec(e):on?/Edge\/([\d\.]+)/.exec(e):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):un?/WebKit\/(\S+)/.exec(e):nn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fn&&(ln=fn?fn[1]:""),rn){var hn=cn();if(null!=hn&&hn>parseFloat(ln)){tn=String(hn);break e}}tn=ln}var dn,pn={};function vn(){return function(e){var t=pn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ht(String(tn)).split("."),n=Ht("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Qt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Qt(0==o[2].length,0==a[2].length)||Qt(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(kt.document&&rn){var yn=cn();dn=yn||(parseInt(tn,10)||void 0)}else dn=void 0;var gn=dn,mn=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kt.addEventListener("test",It,t),kt.removeEventListener("test",It,t)}catch(n){}return e}();function bn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function wn(e,t){if(bn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sn){e:{try{en(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:En[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wn.Z.h.call(this)}}bn.prototype.h=function(){this.defaultPrevented=!0},Ft(wn,bn);var En={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),Sn=0;function Tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sn,this.ca=this.fa=!1}function xn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kn(e){this.src=e,this.g={},this.h=0}function In(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ut(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}kn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Cn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Tn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Nn="closure_lm_"+(1e6*Math.random()|0),On={};function Dn(e,t,n,r,i){if(r&&r.once)return Pn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Dn(e,t[o],n,r,i);return null}return n=Vn(n),e&&e[_n]?e.N(t,n,Nt(r)?!!r.capture:!!r,i):An(e,t,n,!1,r,i)}function An(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Nt(i)?!!i.capture:!!i,s=jn(e);if(s||(e[Nn]=s=new kn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Mn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pn(e,t[o],n,r,i);return null}return n=Vn(n),e&&e[_n]?e.O(t,n,Nt(r)?!!r.capture:!!r,i):An(e,t,n,!0,r,i)}function Rn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Rn(e,t[o],n,r,i);else r=Nt(r)?!!r.capture:!!r,n=Vn(n),e&&e[_n]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Cn(o=e.g[t],n,r,i))&&(xn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=jn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Cn(t,n,r,i)),(n=-1<e?t[e]:null)&&Ln(n))}function Ln(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[_n])In(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jn(t))?(In(n,e),0==n.h&&(n.src=null,t[Nn]=null)):xn(e)}}}function Fn(e){return e in On?On[e]:On[e]="on"+e}function Mn(e,t){if(e.ca)e=!0;else{t=new wn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ln(e),e=n.call(r,t)}return e}function jn(e){return(e=e[Nn])instanceof kn?e:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(e){return"function"===typeof e?e:(e[Un]||(e[Un]=function(t){return e.handleEvent(t)}),e[Un])}function Bn(){Mt.call(this),this.i=new kn(this),this.P=this,this.I=null}function qn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new bn(t,e);else if(t instanceof bn)t.target=t.target||e;else{var i=t;Zt(t=new bn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Kn(a,r,!0,t)&&i}if(i=Kn(a=t.g=e,r,!0,t)&&i,i=Kn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Kn(a=t.g=n[o],r,!1,t)&&i}function Kn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&In(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Bn,Mt),Bn.prototype[_n]=!0,Bn.prototype.removeEventListener=function(e,t,n,r){Rn(this,e,t,n,r)},Bn.prototype.M=function(){if(Bn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xn(n[r]);delete t.g[e],t.h--}}this.I=null},Bn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Bn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zn=kt.JSON.stringify;function Hn(){var e=Zn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wn,Qn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Gn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Gn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new $n}),(function(e){return e.reset()})),$n=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Yn(e){kt.setTimeout((function(){throw e}),0)}function Xn(e,t){Wn||function(){var e=kt.Promise.resolve(void 0);Wn=function(){e.then(er)}}(),Jn||(Wn(),Jn=!0),Zn.add(e,t)}var Jn=!1,Zn=new Qn;function er(){for(var e;e=Hn();){try{e.h.call(e.g)}catch(n){Yn(n)}var t=Gn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jn=!1}function tr(e,t){Bn.call(this),this.h=e||1,this.g=t||kt,this.j=Rt(this.kb,this),this.l=Date.now()}function nr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function rr(e,t,n){if("function"===typeof e)n&&(e=Rt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rt(e.handleEvent,e)}return 2147483647<Number(t)?-1:kt.setTimeout(e,t||0)}function ir(e){e.g=rr((function(){e.g=null,e.i&&(e.i=!1,ir(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ft(tr,Bn),(St=tr.prototype).da=!1,St.S=null,St.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qn(this,"tick"),this.da&&(nr(this),this.start()))}},St.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){tr.Z.M.call(this),nr(this),delete this.g};var or=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ir(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Mt);function ar(e){Mt.call(this),this.h=e,this.g={}}Ft(ar,Mt);var sr=[];function ur(e,t,n,r){Array.isArray(n)||(n&&(sr[0]=n.toString()),n=sr);for(var i=0;i<n.length;i++){var o=Dn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function cr(e){Yt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ln(e)}),e),e.g={}}function lr(){this.g=!0}function fr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return zn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ar.prototype.M=function(){ar.Z.M.call(this),cr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lr.prototype.Aa=function(){this.g=!1},lr.prototype.info=function(){};var hr={},dr=null;function pr(){return dr=dr||new Bn}function vr(e){bn.call(this,hr.Ma,e)}function yr(e){var t=pr();qn(t,new vr(t,e))}function gr(e,t){bn.call(this,hr.STAT_EVENT,e),this.stat=t}function mr(e){var t=pr();qn(t,new gr(t,e))}function br(e,t){bn.call(this,hr.Na,e),this.size=t}function wr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kt.setTimeout((function(){e()}),t)}hr.Ma="serverreachability",Ft(vr,bn),hr.STAT_EVENT="statevent",Ft(gr,bn),hr.Na="timingevent",Ft(br,bn);var Er={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_r={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sr(){}function Tr(e){return e.h||(e.h=e.i())}function xr(){}Sr.prototype.h=null;var kr,Ir={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cr(){bn.call(this,"d")}function Nr(){bn.call(this,"c")}function Or(){}function Dr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ar(this),this.P=Pr,e=an?125:void 0,this.W=new tr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}Ft(Cr,bn),Ft(Nr,bn),Ft(Or,Sr),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},kr=new Or;var Pr=45e3,Rr={},Lr={};function Fr(e,t,n){e.K=1,e.v=oi(Zr(t)),e.s=n,e.U=!0,Mr(e,null)}function Mr(e,t){e.F=Date.now(),Br(e),e.A=Zr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ar,e.g=Eo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new or(Rt(e.Ia,e,e.g),e.O)),ur(e.V,e.g,"readystatechange",e.gb),t=e.H?Xt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),yr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function jr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ur(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Vr(e,n))==Lr){4==t&&(e.o=4,mr(14),i=!1),fr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Rr){e.o=4,mr(15),fr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fr(e.j,e.m,r,null),Wr(e,r)}jr(e)&&r!=Lr&&r!=Rr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ho(t),t.L=!0,mr(11))):(fr(e.j,e.m,n,"[Invalid Chunked Response]"),Hr(e),zr(e))}function Vr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Lr:(n=Number(t.substring(n,r)),isNaN(n)?Rr:(r+=1)+n>t.length?Lr:(t=t.substr(r,n),e.C=r+n,t))}function Br(e){e.Y=Date.now()+e.P,qr(e,e.P)}function qr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wr(Rt(e.eb,e),t)}function Kr(e){e.B&&(kt.clearTimeout(e.B),e.B=null)}function zr(e){0==e.l.G||e.I||yo(e.l,e)}function Hr(e){Kr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,nr(e.W),cr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ki(n.i,e)))if(n.I=e.N,!e.J&&ki(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vo(n),ro(n)}fo(n),mr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wr(Rt(n.ab,n),6e3));if(1>=xi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else mo(n,11)}else if((e.J||n.g==e)&&vo(n),!Kt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Wt(l,"spdy")||Wt(l,"quic")||Wt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ii(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ii(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=wo(r,r.H?r.la:null,r.W),d.J){Ci(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Kr(p),Br(p)),r.g=d}else lo(r);0<n.l.length&&ao(n)}else"stop"!=o[0]&&"close"!=o[0]||mo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?mo(n,7):no(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}yr(4)}catch(o){}}function Qr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ct(e)||"string"===typeof e)Vt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ct(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ct(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Gr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Gr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $r(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Yr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(St=Dr.prototype).setTimeout=function(e){this.P=e},St.gb=function(e){e=e.target;var t=this.L;t&&3==Xi(e)?t.l():this.Ia(e)},St.Ia=function(e){try{if(e==this.g)e:{var t=Xi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||an||this.g&&(this.h.h||this.g.ga()||Ji(this.g)))){this.I||4!=t||7==n||yr(8==n||0>=r?3:2),Kr(this);var i=this.g.ba();this.N=i;t:if(jr(this)){var o=Ji(this.g);e="";var a=o.length,s=4==Xi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Hr(this),zr(this);var u="";break t}this.h.i=new kt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kt(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,mr(12),Hr(this),zr(this);break e}fr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wr(this,i)}this.U?(Ur(this,t,u),an&&this.i&&3==t&&(ur(this.V,this.W,"tick",this.fb),this.W.start())):(fr(this.j,this.m,u,null),Wr(this,u)),4==t&&Hr(this),this.i&&!this.I&&(4==t?yo(this.l,this):(this.i=!1,Br(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),Hr(this),zr(this)}}}catch(t){}},St.fb=function(){if(this.g){var e=Xi(this.g),t=this.g.ga();this.C<t.length&&(Kr(this),Ur(this,e,t),this.i&&4!=e&&Br(this))}},St.cancel=function(){this.I=!0,Hr(this)},St.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(yr(3),mr(17)),Hr(this),this.o=2,zr(this)):qr(this,this.Y-e)},(St=Gr.prototype).R=function(){$r(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},St.T=function(){return $r(this),this.g.concat()},St.get=function(e,t){return Yr(this.h,e)?this.h[e]:t},St.set=function(e,t){Yr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},St.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Xr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jr){this.g=void 0!==t?t:e.g,ei(this,e.j),this.s=e.s,ti(this,e.i),ni(this,e.m),this.l=e.l,t=e.h;var n=new pi;n.i=t.i,t.g&&(n.g=new Gr(t.g),n.h=t.h),ri(this,n),this.o=e.o}else e&&(n=String(e).match(Xr))?(this.g=!!t,ei(this,n[1]||"",!0),this.s=ai(n[2]||""),ti(this,n[3]||"",!0),ni(this,n[4]),this.l=ai(n[5]||"",!0),ri(this,n[6]||"",!0),this.o=ai(n[7]||"")):(this.g=!!t,this.h=new pi(null,this.g))}function Zr(e){return new Jr(e)}function ei(e,t,n){e.j=n?ai(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ti(e,t,n){e.i=n?ai(t,!0):t}function ni(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ri(e,t,n){t instanceof pi?(e.h=t,function(e,t){t&&!e.j&&(vi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yi(this,t),mi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=si(t,hi)),e.h=new pi(t,e.g))}function ii(e,t,n){e.h.set(t,n)}function oi(e){return ii(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ai(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function si(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ui),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ui(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(si(t,ci,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(si(t,ci,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(si(n,"/"==n.charAt(0)?fi:li,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",si(n,di)),e.join("")};var ci=/[#\/\?@]/g,li=/[#\?:]/g,fi=/[#\?]/g,hi=/[#\?@]/g,di=/#/g;function pi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vi(e){e.g||(e.g=new Gr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yi(e,t){vi(e),t=bi(e,t),Yr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Yr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$r(e)))}function gi(e,t){return vi(e),t=bi(e,t),Yr(e.g.h,t)}function mi(e,t,n){yi(e,t),0<n.length&&(e.i=null,e.g.set(bi(e,t),qt(n)),e.h+=n.length)}function bi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(St=pi.prototype).add=function(e,t){vi(this),this.i=null,e=bi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},St.forEach=function(e,t){vi(this),this.g.forEach((function(n,r){Vt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},St.T=function(){vi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},St.R=function(e){vi(this);var t=[];if("string"===typeof e)gi(this,e)&&(t=Bt(t,this.g.get(bi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Bt(t,e[n])}return t},St.set=function(e,t){return vi(this),this.i=null,gi(this,e=bi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},St.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var wi=function(e,t){this.h=e,this.g=t};function Ei(e){this.l=e||Si,kt.PerformanceNavigationTiming?e=0<(e=kt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _i,Si=10;function Ti(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xi(e){return e.h?1:e.g?e.g.size:0}function ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ii(e,t){e.g?e.g.add(t):e.h=t}function Ci(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ni(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=_t(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return qt(e.i)}function Oi(){}function Di(){this.g=new Oi}function Ai(e,t,n){var r=n||"";try{Qr(e,(function(e,n){var i=e;Nt(e)&&(i=zn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Qv){throw t.push(r+"type="+encodeURIComponent("_badmap")),Qv}}function Pi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ri(e){this.l=e.$b||null,this.j=e.ib||!1}function Li(e,t){Bn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei.prototype.cancel=function(){var e,t;if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=_t(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Oi.prototype.stringify=function(e){return kt.JSON.stringify(e,void 0)},Oi.prototype.parse=function(e){return kt.JSON.parse(e,void 0)},Ft(Ri,Sr),Ri.prototype.g=function(){return new Li(this.l,this.j)},Ri.prototype.i=(_i={},function(){return _i}),Ft(Li,Bn);var Fi=0;function Mi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ji(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ui(e)}function Ui(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(St=Li.prototype).open=function(e,t){if(this.readyState!=Fi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ui(this)},St.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||kt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ji(this)),this.readyState=Fi},St.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof kt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},St.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ji(this):Ui(this),3==this.readyState&&Mi(this)}},St.Ua=function(e){this.g&&(this.response=this.responseText=e,ji(this))},St.Ta=function(e){this.g&&(this.response=e,ji(this))},St.ha=function(){this.g&&ji(this)},St.setRequestHeader=function(e,t){this.v.append(e,t)},St.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vi=kt.JSON.parse;function Bi(e){Bn.call(this),this.headers=new Gr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qi,this.K=this.L=!1}Ft(Bi,Bn);var qi="",Ki=/^https?$/i,zi=["POST","PUT"];function Hi(e){return"content-type"==e.toLowerCase()}function Wi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qi(e),$i(e)}function Qi(e){e.D||(e.D=!0,qn(e,"complete"),qn(e,"error"))}function Gi(e){if(e.h&&"undefined"!=typeof xt&&(!e.C[1]||4!=Xi(e)||2!=e.ba()))if(e.v&&4==Xi(e))rr(e.Fa,0,e);else if(qn(e,"readystatechange"),4==Xi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Xr)[1]||null;if(!o&&kt.self&&kt.self.location){var a=kt.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ki.test(o?o.toLowerCase():"")}t=i}if(t)qn(e,"complete"),qn(e,"success");else{e.m=6;try{var s=2<Xi(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Qi(e)}}finally{$i(e)}}}function $i(e,t){if(e.g){Yi(e);var n=e.g,r=e.C[0]?It:null;e.g=null,e.C=null,t||qn(e,"ready");try{n.onreadystatechange=r}catch(Qv){}}}function Yi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(kt.clearTimeout(e.A),e.A=null)}function Xi(e){return e.g?e.g.readyState:0}function Ji(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Yt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ii(e,t,n))}function eo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function to(e){this.za=0,this.l=[],this.h=new lr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eo("baseRetryDelayMs",5e3,e),this.$a=eo("retryDelaySeedMs",1e4,e),this.Ya=eo("forwardChannelMaxRetries",2,e),this.ra=eo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ei(e&&e.concurrentRequestLimit),this.Ca=new Di,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function no(e){if(io(e),3==e.G){var t=e.V++,n=Zr(e.F);ii(n,"SID",e.J),ii(n,"RID",t),ii(n,"TYPE","terminate"),uo(e,n),(t=new Dr(e,e.h,t,void 0)).K=2,t.v=oi(Zr(n)),n=!1,kt.navigator&&kt.navigator.sendBeacon&&(n=kt.navigator.sendBeacon(t.v.toString(),"")),!n&&kt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Eo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Br(t)}bo(e)}function ro(e){e.g&&(ho(e),e.g.cancel(),e.g=null)}function io(e){ro(e),e.u&&(kt.clearTimeout(e.u),e.u=null),vo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&kt.clearTimeout(e.m),e.m=null)}function oo(e,t){e.l.push(new wi(e.Za++,t)),3==e.G&&ao(e)}function ao(e){Ti(e.i)||e.m||(e.m=!0,Xn(e.Ha,e),e.C=0)}function so(e,t){var n;n=t?t.m:e.V++;var r=Zr(e.F);ii(r,"SID",e.J),ii(r,"RID",n),ii(r,"AID",e.U),uo(e,r),e.o&&e.s&&Zi(r,e.o,e.s),n=new Dr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=co(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ii(e.i,n),Fr(n,r,t)}function uo(e,t){e.j&&Qr({},(function(e,n){ii(t,n,e)}))}function co(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Rt(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Ai(l,a,"req"+c+"_")}catch(ra){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function lo(e){e.g||e.u||(e.Y=1,Xn(e.Ga,e),e.A=0)}function fo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=wr(Rt(e.Ga,e),go(e,e.A)),e.A++,!0)}function ho(e){null!=e.B&&(kt.clearTimeout(e.B),e.B=null)}function po(e){e.g=new Dr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zr(e.oa);ii(t,"RID","rpc"),ii(t,"SID",e.J),ii(t,"CI",e.N?"0":"1"),ii(t,"AID",e.U),uo(e,t),ii(t,"TYPE","xmlhttp"),e.o&&e.s&&Zi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=oi(Zr(t)),n.s=null,n.U=!0,Mr(n,e)}function vo(e){null!=e.v&&(kt.clearTimeout(e.v),e.v=null)}function yo(e,t){var n=null;if(e.g==t){vo(e),ho(e),e.g=null;var r=2}else{if(!ki(e.i,t))return;n=t.D,Ci(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qn(r=pr(),new br(r,n,t,i)),ao(e)}else lo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=wr(Rt(e.Ha,e,t),go(e,e.C)),e.C++,!0))}(e,t)||2==r&&fo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mo(e,5);break;case 4:mo(e,10);break;case 3:mo(e,6);break;default:mo(e,2)}}function go(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Rt(e.jb,e);n||(n=new Jr("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||ei(n,"https"),oi(n)),function(e,t){var n=new lr;if(kt.Image){var r=new Image;r.onload=Lt(Pi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lt(Pi,n,r,"TestLoadImage: error",!1,t),r.onabort=Lt(Pi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lt(Pi,n,r,"TestLoadImage: timeout",!1,t),kt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else mr(2);e.G=0,e.j&&e.j.va(t),bo(e),io(e)}function bo(e){e.G=0,e.I=-1,e.j&&(0==Ni(e.i).length&&0==e.l.length||(e.i.i.length=0,qt(e.l),e.l.length=0),e.j.ua())}function wo(e,t,n){var r=function(e){return e instanceof Jr?Zr(e):new Jr(e,void 0)}(n);if(""!=r.i)t&&ti(r,t+"."+r.i),ni(r,r.m);else{var i=kt.location;r=function(e,t,n,r){var i=new Jr(null,void 0);return e&&ei(i,e),t&&ti(i,t),n&&ni(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Yt(e.aa,(function(e,t){ii(r,t,e)})),t=e.D,n=e.sa,t&&n&&ii(r,t,n),ii(r,"VER",e.ma),uo(e,r),r}function Eo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Bi(new Ri({ib:!0})):new Bi(e.qa)).L=e.H,t}function _o(){}function So(){if(rn&&!(10<=Number(gn)))throw Error("Environmental error: no available transport.")}function To(e,t){Bn.call(this),this.g=new to(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Io(this)}function xo(e){Cr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ko(){Nr.call(this),this.status=1}function Io(e){this.g=e}(St=Bi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kr.g(),this.C=this.u?Tr(this.u):Tr(kr),this.g.onreadystatechange=Rt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Wi(this,o)}e=n||"";var i=new Gr(this.headers);r&&Qr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Hi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=kt.FormData&&e instanceof kt.FormData,!(0<=Ut(zi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yi(this),0<this.B&&((this.K=function(e){return rn&&vn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.pa,this)):this.A=rr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Wi(this,o)}},St.pa=function(){"undefined"!=typeof xt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},St.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qn(this,"complete"),qn(this,"abort"),$i(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$i(this,!0)),Bi.Z.M.call(this)},St.Fa=function(){this.s||(this.F||this.v||this.l?Gi(this):this.cb())},St.cb=function(){Gi(this)},St.ba=function(){try{return 2<Xi(this)?this.g.status:-1}catch(_i){return-1}},St.ga=function(){try{return this.g?this.g.responseText:""}catch(_i){return""}},St.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vi(t)}},St.Da=function(){return this.m},St.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(St=to.prototype).ma=8,St.G=1,St.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},St.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Dr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zt(n=Xt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=co(this,t,r),ii(i=Zr(this.F),"RID",e),ii(i,"CVER",22),this.D&&ii(i,"X-HTTP-Session-Id",this.D),uo(this,i),this.o&&n&&Zi(i,this.o,n),Ii(this.i,t),this.Ra&&ii(i,"TYPE","init"),this.ja?(ii(i,"$req",r),ii(i,"SID","null"),t.$=!0,Fr(t,i,null)):Fr(t,i,r),this.G=2}}else 3==this.G&&(e?so(this,e):0==this.l.length||Ti(this.i)||so(this))},St.Ga=function(){if(this.u=null,po(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wr(Rt(this.bb,this),e)}},St.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mr(10),ro(this),po(this))},St.ab=function(){null!=this.v&&(this.v=null,ro(this),fo(this),mr(19))},St.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mr(2)):(this.h.info("Failed to ping google.com"),mr(1))},(St=_o.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Oa=function(){},So.prototype.g=function(e,t){return new To(e,t)},Ft(To,Bn),To.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xn(Rt(e.hb,e,t))),mr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wo(e,null,e.W),ao(e)},To.prototype.close=function(){no(this.g)},To.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,oo(this.g,t)}else this.v?((t={}).__data__=zn(e),oo(this.g,t)):oo(this.g,e)},To.prototype.M=function(){this.g.j=null,delete this.j,no(this.g),delete this.g,To.Z.M.call(this)},Ft(xo,Cr),Ft(ko,Nr),Ft(Io,_o),Io.prototype.xa=function(){qn(this.g,"a")},Io.prototype.wa=function(e){qn(this.g,new xo(e))},Io.prototype.va=function(e){qn(this.g,new ko(e))},Io.prototype.ua=function(){qn(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,To.prototype.send=To.prototype.u,To.prototype.open=To.prototype.m,To.prototype.close=To.prototype.close,Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,_r.COMPLETE="complete",xr.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Bn.prototype.listen=Bn.prototype.N,Bi.prototype.listenOnce=Bi.prototype.O,Bi.prototype.getLastError=Bi.prototype.La,Bi.prototype.getLastErrorCode=Bi.prototype.Da,Bi.prototype.getStatus=Bi.prototype.ba,Bi.prototype.getResponseJson=Bi.prototype.Qa,Bi.prototype.getResponseText=Bi.prototype.ga,Bi.prototype.send=Bi.prototype.ea;var Co=function(){return new So},No=function(){return pr()},Oo=Er,Do=_r,Ao=hr,Po={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ro=Ri,Lo=xr,Fo=Bi,Mo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Mo.o=-1;var jo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return gt(t,e),t}(Error),Vo=new Je("@firebase/firestore");function Bo(){return Vo.logLevel}function qo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vo.logLevel<=He.DEBUG){var r=t.map(Ho);Vo.debug.apply(Vo,wt(["Firestore (8.10.0): "+e],r))}}function Ko(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vo.logLevel<=He.ERROR){var r=t.map(Ho);Vo.error.apply(Vo,wt(["Firestore (8.10.0): "+e],r))}}function zo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vo.logLevel<=He.WARN){var r=t.map(Ho);Vo.warn.apply(Vo,wt(["Firestore (8.10.0): "+e],r))}}function Ho(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wo(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function Qo(e,t){e||Wo()}function Go(e,t){return e}function $o(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Yo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$o(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Xo(e,t){return e<t?-1:e>t?1:0}function Jo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zo(e){return e+"\0"}var ea=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Uo(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Uo(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Uo(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Uo(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Xo(this.nanoseconds,e.nanoseconds):Xo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ta=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ea(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function na(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ra(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ia(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var oa=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Wo(),void 0===n?n=e.length-t:n>e.length-t&&Wo(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Uo(jo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(oa),sa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return sa.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Uo(jo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Uo(jo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Uo(jo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Uo(jo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(oa),ca=function(){function e(e){this.fields=e,e.sort(ua.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Jo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),la=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Xo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();la.EMPTY_BYTE_STRING=new la("");var fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(e){if(Qo(!!e),"string"==typeof e){var t=0,n=fa.exec(e);if(Qo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:da(e.seconds),nanos:da(e.nanos)}}function da(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pa(e){return"string"==typeof e?la.fromBase64String(e):la.fromUint8Array(e)}function va(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ya(e){var t=e.mapValue.fields.__previous_value__;return va(t)?ya(t):t}function ga(e){var t=ha(e.mapValue.fields.__local_write_time__.timestampValue);return new ea(t.seconds,t.nanos)}function ma(e){return null==e}function ba(e){return 0===e&&1/e==-1/0}function wa(e){return"number"==typeof e&&Number.isInteger(e)&&!ba(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ea=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(aa.fromString(t))},e.fromName=function(t){return new e(aa.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===aa.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return aa.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new aa(t.slice()))},e}();function _a(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?va(e)?4:10:Wo()}function Sa(e,t){var n=_a(e);if(n!==_a(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ga(e).isEqual(ga(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ha(e.timestampValue),r=ha(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pa(e.bytesValue).isEqual(pa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return da(e.geoPointValue.latitude)===da(t.geoPointValue.latitude)&&da(e.geoPointValue.longitude)===da(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return da(e.integerValue)===da(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=da(e.doubleValue),r=da(t.doubleValue);return n===r?ba(n)===ba(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jo(e.arrayValue.values||[],t.arrayValue.values||[],Sa);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(na(n)!==na(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sa(n[i],r[i])))return!1;return!0}(e,t);default:return Wo()}}function Ta(e,t){return void 0!==(e.values||[]).find((function(e){return Sa(e,t)}))}function xa(e,t){var n=_a(e),r=_a(t);if(n!==r)return Xo(n,r);switch(n){case 0:return 0;case 1:return Xo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=da(e.integerValue||e.doubleValue),r=da(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ka(e.timestampValue,t.timestampValue);case 4:return ka(ga(e),ga(t));case 5:return Xo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=pa(e),r=pa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Xo(n[i],r[i]);if(0!==o)return o}return Xo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xo(da(e.latitude),da(t.latitude));return 0!==n?n:Xo(da(e.longitude),da(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=xa(n[i],r[i]);if(o)return o}return Xo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Xo(r[a],o[a]);if(0!==s)return s;var u=xa(n[r[a]],i[o[a]]);if(0!==u)return u}return Xo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Wo()}}function ka(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xo(e,t);var n=ha(e),r=ha(t),i=Xo(n.seconds,r.seconds);return 0!==i?i:Xo(n.nanos,r.nanos)}function Ia(e){return Ca(e)}function Ca(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ha(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?pa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ea.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Ca(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Ca(e.fields[o])}return t+"}"}(e.mapValue):Wo();var t,n}function Na(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Oa(e){return!!e&&"integerValue"in e}function Da(e){return!!e&&"arrayValue"in e}function Aa(e){return!!e&&"nullValue"in e}function Pa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ra(e){return!!e&&"mapValue"in e}function La(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ra(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=La(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=La(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fa=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ra(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(t)},e.prototype.setAll=function(e){var t=this,n=ua.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=La(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ra(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Sa(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ra(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){ra(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(La(this.value))},e}();function Ma(e){var t=[];return ra(e.fields,(function(e,n){var r=new ua([e]);if(Ra(n)){var i=Ma(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new ca(t)}var ja=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ta.min(),Fa.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Fa.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Fa.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Fa.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Fa.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ua=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Va(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ua(e,t,n,r,i,o,a)}function Ba(e){var t=Go(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ia(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ma(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=es(t.startAt)),t.endAt&&(n+="|ub:",n+=es(t.endAt)),t.h=n}return t.h}function qa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ns(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Sa(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!is(e.startAt,t.startAt)&&is(e.endAt,t.endAt)}function Ka(e){return Ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var za=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return gt(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ha(e,n,r):"array-contains"===n?new $a(e,r):"in"===n?new Ya(e,r):"not-in"===n?new Xa(e,r):"array-contains-any"===n?new Ja(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Wa(e,n):new Qa(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(xa(t,this.value)):null!==t&&_a(this.value)===_a(t)&&this.m(xa(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wo()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ha=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ea.fromName(r.referenceValue),i}return gt(t,e),t.prototype.matches=function(e){var t=Ea.comparator(e.key,this.key);return this.m(t)},t}(za),Wa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ga("in",n),r}return gt(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(za),Qa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ga("not-in",n),r}return gt(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(za);function Ga(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ea.fromName(e.referenceValue)}))}var $a=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return gt(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Da(t)&&Ta(t.arrayValue,this.value)},t}(za),Ya=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return gt(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ta(this.value.arrayValue,t)},t}(za),Xa=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return gt(t,e),t.prototype.matches=function(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ta(this.value.arrayValue,t)},t}(za),Ja=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return gt(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Da(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ta(t.value.arrayValue,e)}))},t}(za),Za=function(e,t){this.position=e,this.before=t};function es(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ia(e)})).join(",")}var ts=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ns(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function rs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ea.comparator(Ea.fromName(a.referenceValue),n.key):xa(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function is(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Sa(e.position[n],t.position[n]))return!1;return!0}var os=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function as(e,t,n,r,i,o,a,s){return new os(e,t,n,r,i,o,a,s)}function ss(e){return new os(e)}function us(e){return!ma(e.limit)&&"F"===e.limitType}function cs(e){return!ma(e.limit)&&"L"===e.limitType}function ls(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fs(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function hs(e){return null!==e.collectionGroup}function ds(e){var t=Go(e);if(null===t.p){t.p=[];var n=fs(t),r=ls(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ts(n)),t.p.push(new ts(ua.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ts(ua.keyField(),u))}}}return t.p}function ps(e){var t=Go(e);if(!t.T)if("F"===t.limitType)t.T=Va(t.path,t.collectionGroup,ds(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ds(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ts(o.field,a))}var s=t.endAt?new Za(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Za(t.startAt.position,!t.startAt.before):null;t.T=Va(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function vs(e,t,n){return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ys(e,t){return qa(ps(e),ps(t))&&e.limitType===t.limitType}function gs(e){return Ba(ps(e))+"|lt:"+e.limitType}function ms(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ia(t.value);var t})).join(", ")+"]"),ma(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+es(e.startAt)),e.endAt&&(t+=", endAt: "+es(e.endAt)),"Target("+t+")"}(ps(e))+"; limitType="+e.limitType+")"}function bs(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ea.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!rs(e.startAt,ds(e),t))&&(!e.endAt||!rs(e.endAt,ds(e),t))}(e,t)}function ws(e){return function(t,n){for(var r=!1,i=0,o=ds(e);i<o.length;i++){var a=o[i],s=Es(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Es(e,t,n){var r=e.field.isKeyField()?Ea.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xa(r,i):Wo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wo()}}function _s(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ba(t)?"-0":t}}function Ss(e){return{integerValue:""+e}}function Ts(e,t){return wa(t)?Ss(t):_s(e,t)}var xs=function(){this._=void 0};function ks(e,t,n){return e instanceof Ns?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Os?Ds(e,t):e instanceof As?Ps(e,t):function(e,t){var n=Cs(e,t),r=Ls(n)+Ls(e.A);return Oa(n)&&Oa(e.A)?Ss(r):_s(e.R,r)}(e,t)}function Is(e,t,n){return e instanceof Os?Ds(e,t):e instanceof As?Ps(e,t):n}function Cs(e,t){return e instanceof Rs?Oa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t}(xs),Os=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return gt(t,e),t}(xs);function Ds(e,t){for(var n=Fs(t),r=function(e){n.some((function(t){return Sa(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var As=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return gt(t,e),t}(xs);function Ps(e,t){for(var n=Fs(t),r=function(e){n=n.filter((function(t){return!Sa(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return gt(t,e),t}(xs);function Ls(e){return da(e.integerValue||e.doubleValue)}function Fs(e){return Da(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ms=function(e,t){this.field=e,this.transform=t},js=function(e,t){this.version=e,this.transformResults=t},Us=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Vs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bs=function(){};function qs(e,t,n){e instanceof Qs?function(e,t,n){var r=e.value.clone(),i=Ys(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gs?function(e,t,n){if(Vs(e.precondition,t)){var r=Ys(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($s(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ks(e,t,n){e instanceof Qs?function(e,t,n){if(Vs(e.precondition,t)){var r=e.value.clone(),i=Xs(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ws(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Gs?function(e,t,n){if(Vs(e.precondition,t)){var r=Xs(e.fieldTransforms,n,t),i=t.data;i.setAll($s(e)),i.setAll(r),t.convertToFoundDocument(Ws(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Vs(e.precondition,t)&&t.convertToNoDocument(ta.min())}(e,t)}function zs(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Cs(o.transform,a||null);null!=s&&(null==n&&(n=Fa.empty()),n.set(o.field,s))}return n||null}function Hs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Os&&t instanceof Os||e instanceof As&&t instanceof As?Jo(e.elements,t.elements,Sa):e instanceof Rs&&t instanceof Rs?Sa(e.A,t.A):e instanceof Ns&&t instanceof Ns}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ws(e){return e.isFoundDocument()?e.version:ta.min()}var Qs=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return gt(t,e),t}(Bs),Gs=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return gt(t,e),t}(Bs);function $s(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ys(e,t,n){var r=new Map;Qo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Is(a,s,n[i]))}return r}function Xs(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ks(s,u,t))}return r}var Js,Zs,eu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return gt(t,e),t}(Bs),tu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return gt(t,e),t}(Bs),nu=function(e){this.count=e};function ru(e){switch(e){case jo.OK:return Wo();case jo.CANCELLED:case jo.UNKNOWN:case jo.DEADLINE_EXCEEDED:case jo.RESOURCE_EXHAUSTED:case jo.INTERNAL:case jo.UNAVAILABLE:case jo.UNAUTHENTICATED:return!1;case jo.INVALID_ARGUMENT:case jo.NOT_FOUND:case jo.ALREADY_EXISTS:case jo.PERMISSION_DENIED:case jo.FAILED_PRECONDITION:case jo.ABORTED:case jo.OUT_OF_RANGE:case jo.UNIMPLEMENTED:case jo.DATA_LOSS:return!0;default:return Wo()}}function iu(e){if(void 0===e)return Ko("GRPC error has no .code"),jo.UNKNOWN;switch(e){case Js.OK:return jo.OK;case Js.CANCELLED:return jo.CANCELLED;case Js.UNKNOWN:return jo.UNKNOWN;case Js.DEADLINE_EXCEEDED:return jo.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return jo.RESOURCE_EXHAUSTED;case Js.INTERNAL:return jo.INTERNAL;case Js.UNAVAILABLE:return jo.UNAVAILABLE;case Js.UNAUTHENTICATED:return jo.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return jo.INVALID_ARGUMENT;case Js.NOT_FOUND:return jo.NOT_FOUND;case Js.ALREADY_EXISTS:return jo.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return jo.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return jo.FAILED_PRECONDITION;case Js.ABORTED:return jo.ABORTED;case Js.OUT_OF_RANGE:return jo.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return jo.UNIMPLEMENTED;case Js.DATA_LOSS:return jo.DATA_LOSS;default:return Wo()}}(Zs=Js||(Js={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";var ou=function(){function e(e,t){this.comparator=e,this.root=t||su.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,su.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,su.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new au(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new au(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new au(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new au(this.root,e,this.comparator,!0)},e}(),au=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),su=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wo();if(this.right.isRed())throw Wo();var e=this.left.check();if(e!==this.right.check())throw Wo();return e+(this.isRed()?0:1)},e}();su.EMPTY=null,su.RED=!0,su.BLACK=!1,su.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new su(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var uu=function(){function e(e){this.comparator=e,this.data=new ou(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new cu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new cu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),cu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),lu=new ou(Ea.comparator);function fu(){return lu}var hu=new ou(Ea.comparator);function du(){return hu}var pu=new ou(Ea.comparator);function vu(){return pu}var yu=new uu(Ea.comparator);function gu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=yu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var mu=new uu(Xo);function bu(){return mu}var wu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ta.min(),r,bu(),fu(),gu())},e}(),Eu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(la.EMPTY_BYTE_STRING,n,gu(),gu(),gu())},e}(),_u=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Su=function(e,t){this.targetId=e,this.V=t},Tu=function(e,t,n,r){void 0===n&&(n=la.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},xu=function(){function e(){this.S=0,this.D=Cu(),this.C=la.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=gu(),t=gu(),n=gu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wo()}})),new Eu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Cu()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ku=function(){function e(e){this.W=e,this.G=new Map,this.H=fu(),this.J=Iu(),this.Y=new uu(Xo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Wo()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ka(i))if(0===n){var o=new Ea(i.path);this.tt(t,o,ja.newNoDocument(o,ta.min()))}else Qo(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ka(o.target)){var a=new Ea(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ja.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=gu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new wu(e,n,this.Y,this.H,r);return this.H=fu(),this.J=Iu(),this.Y=new uu(Xo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new xu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new uu(Xo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||qo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new xu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Iu(){return new ou(Ea.comparator)}function Cu(){return new ou(Ea.comparator)}var Nu={asc:"ASCENDING",desc:"DESCENDING"},Ou={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Du=function(e,t){this.databaseId=e,this.I=t};function Au(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ru(e,t){return Au(e,t.toTimestamp())}function Lu(e){return Qo(!!e),ta.fromTimestamp(function(e){var t=ha(e);return new ea(t.seconds,t.nanos)}(e))}function Fu(e,t){return function(e){return new aa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mu(e){var t=aa.fromString(e);return Qo(sc(t)),t}function ju(e,t){return Fu(e.databaseId,t.path)}function Uu(e,t){var n=Mu(t);if(n.get(1)!==e.databaseId.projectId)throw new Uo(jo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uo(jo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ea(Ku(n))}function Vu(e,t){return Fu(e.databaseId,t)}function Bu(e){var t=Mu(e);return 4===t.length?aa.emptyPath():Ku(t)}function qu(e){return new aa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ku(e){return Qo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zu(e,t,n){return{name:ju(e,t),fields:n.value.mapValue.fields}}function Hu(e,t,n){var r=Uu(e,t.name),i=Lu(t.updateTime),o=new Fa({mapValue:{fields:t.fields}}),a=ja.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wu(e,t){var n;if(t instanceof Qs)n={update:zu(e,t.key,t.value)};else if(t instanceof eu)n={delete:ju(e,t.key)};else if(t instanceof Gs)n={update:zu(e,t.key,t.data),updateMask:ac(t.fieldMask)};else{if(!(t instanceof tu))return Wo();n={verify:ju(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ns)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Os)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof As)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rs)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Wo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ru(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wo()}(e,t.precondition)),n}function Qu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Us.updateTime(Lu(e.updateTime)):void 0!==e.exists?Us.exists(e.exists):Us.none()}(t.currentDocument):Us.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Qo("REQUEST_TIME"===t.setToServerValue),n=new Ns;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Os(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new As(i)}else"increment"in t?n=new Rs(e,t.increment):Wo();var o=ua.fromServerFormat(t.fieldPath);return new Ms(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Uu(e,t.update.name),o=new Fa({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new ca(t.map((function(e){return ua.fromServerFormat(e)})))}(t.updateMask);return new Gs(i,o,a,n,r)}return new Qs(i,o,n,r)}if(t.delete){var s=Uu(e,t.delete);return new eu(s,n)}if(t.verify){var u=Uu(e,t.verify);return new tu(u,n)}return Wo()}function Gu(e,t){return{documents:[Vu(e,t.path)]}}function $u(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(Aa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(Aa(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:tc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nc(e.field),direction:ec(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ma(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ju(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ju(t.endAt)),n}function Yu(e){var t=Bu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Xu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ts(rc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ma(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Zu(n.startAt));var l=null;return n.endAt&&(l=Zu(n.endAt)),as(t,i,s,a,u,"F",c,l)}function Xu(e){return e?void 0!==e.unaryFilter?[oc(e)]:void 0!==e.fieldFilter?[ic(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Xu(e)})).reduce((function(e,t){return e.concat(t)})):Wo():[]}function Ju(e){return{before:e.before,values:e.position}}function Zu(e){var t=!!e.before,n=e.values||[];return new Za(n,t)}function ec(e){return Nu[e]}function tc(e){return Ou[e]}function nc(e){return{fieldPath:e.canonicalString()}}function rc(e){return ua.fromServerFormat(e.fieldPath)}function ic(e){return za.create(rc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wo()}}(e.fieldFilter.op),e.fieldFilter.value)}function oc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rc(e.unaryFilter.field);return za.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rc(e.unaryFilter.field);return za.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rc(e.unaryFilter.field);return za.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rc(e.unaryFilter.field);return za.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wo()}}function ac(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function uc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lc(t)),t=cc(e.get(n),t);return lc(t)}function cc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function lc(e){return e+"\x01\x01"}function fc(e){var t=e.length;if(Qo(t>=2),2===t)return Qo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),aa.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Wo(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Wo()}o=a+2}return new aa(r)}var hc=function(e,t){this.seconds=e,this.nanoseconds=t},dc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};dc.store="owner",dc.key="owner";var pc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};pc.store="mutationQueues",pc.keyPath="userId";var vc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vc.store="mutations",vc.keyPath="batchId",vc.userMutationsIndex="userMutationsIndex",vc.userMutationsKeyPath=["userId","batchId"];var yc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,uc(t)]},e.key=function(e,t,n){return[e,uc(t),n]},e}();yc.store="documentMutations",yc.PLACEHOLDER=new yc;var gc=function(e,t){this.path=e,this.readTime=t},mc=function(e,t){this.path=e,this.version=t},bc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};bc.store="remoteDocuments",bc.readTimeIndex="readTimeIndex",bc.readTimeIndexPath="readTime",bc.collectionReadTimeIndex="collectionReadTimeIndex",bc.collectionReadTimeIndexPath=["parentPath","readTime"];var wc=function(e){this.byteSize=e};wc.store="remoteDocumentGlobal",wc.key="remoteDocumentGlobalKey";var Ec=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ec.store="targets",Ec.keyPath="targetId",Ec.queryTargetsIndexName="queryTargetsIndex",Ec.queryTargetsKeyPath=["canonicalId","targetId"];var _c=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};_c.store="targetDocuments",_c.keyPath=["targetId","path"],_c.documentTargetsIndex="documentTargetsIndex",_c.documentTargetsKeyPath=["path","targetId"];var Sc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sc.key="targetGlobalKey",Sc.store="targetGlobal";var Tc=function(e,t){this.collectionId=e,this.parent=t};Tc.store="collectionParents",Tc.keyPath=["collectionId","parent"];var xc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};xc.store="clientMetadata",xc.keyPath="clientId";var kc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};kc.store="bundles",kc.keyPath="bundleId";var Ic=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ic.store="namedQueries",Ic.keyPath="name";var Cc=wt(wt([],wt(wt([],wt(wt([],wt(wt([],[pc.store,vc.store,yc.store,bc.store,Ec.store,dc.store,Sc.store,_c.store]),[xc.store])),[wc.store])),[Tc.store])),[kc.store,Ic.store]),Nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Dc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Ac=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Pc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Dc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Fc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Bc(t.target.error);n.ft.reject(new Fc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(qo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new jc(t)},e}(),Rc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Se())&&Ko("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return qo("SimpleDb","Removing database:",e),Uc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Se(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/cows-and-bulls",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return mt(this,void 0,void 0,(function(){var t,n=this;return bt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(qo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Uo(jo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Fc(e,n))},i.onupgradeneeded=function(e){qo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){qo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o,a,s,u;return bt(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return bt(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Pc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Ac.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,qo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Lc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Uc(this.Pt.delete())},e}(),Fc=function(e){function t(t,n){var r=this;return(r=e.call(this,jo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return gt(t,e),t}(Uo);function Mc(e){return"IndexedDbTransactionError"===e.name}var jc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(qo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(qo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Uc(n)},e.prototype.add=function(e){return qo("SimpleDb","ADD",this.store.name,e,e),Uc(this.store.add(e))},e.prototype.get=function(e){var t=this;return Uc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),qo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return qo("SimpleDb","DELETE",this.store.name,e),Uc(this.store.delete(e))},e.prototype.count=function(){return qo("SimpleDb","COUNT",this.store.name),Uc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){qo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Ac((function(n,r){t.onerror=function(e){var t=Bc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Ac((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Lc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Ac){var s=a.catch((function(e){return o.done(),Ac.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ac.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Uc(e){return new Ac((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Bc(e.target.error);n(t)}}))}var Vc=!1;function Bc(e){var t=Rc._t(Se());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vc||(Vc=!0,setTimeout((function(){throw r}),0)),r}}return e}var qc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return gt(t,e),t}(Oc);function Kc(e,t){var n=Go(e);return Rc.It(n.Mt,t)}var zc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qs(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ks(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ks(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ta.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(function(e,t){return Hs(e,t)}))&&Jo(this.baseMutations,e.baseMutations,(function(e,t){return Hs(e,t)}))},e}(),Hc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Qo(t.mutations.length===r.length);for(var i=vu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Wc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ta.min()),void 0===o&&(o=ta.min()),void 0===a&&(a=la.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Qc=function(e){this.Lt=e};function Gc(e,t){if(t.document)return Hu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ea.fromSegments(t.noDocument.path),r=Zc(t.noDocument.readTime),i=ja.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ea.fromSegments(t.unknownDocument.path);return r=Zc(t.unknownDocument.version),ja.newUnknownDocument(o,r)}return Wo()}function $c(e,t,n){var r=Yc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ju(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Au(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new bc(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Jc(t.version);return a=t.hasCommittedMutations,new bc(null,new gc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Jc(t.version);return new bc(new mc(c,l),null,null,!0,r,i)}return Wo()}function Yc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xc(e){var t=new ea(e[0],e[1]);return ta.fromTimestamp(t)}function Jc(e){var t=e.toTimestamp();return new hc(t.seconds,t.nanoseconds)}function Zc(e){var t=new ea(e.seconds,e.nanoseconds);return ta.fromTimestamp(t)}function el(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qu(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Qu(e.Lt,t)})),s=ea.fromMillis(t.localWriteTimeMs);return new zc(t.batchId,s,n,a)}function tl(e){var t,n,r=Zc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Zc(e.lastLimboFreeSnapshotVersion):ta.min();return void 0!==e.query.documents?(Qo(1===(n=e.query).documents.length),t=ps(ss(Bu(n.documents[0])))):t=function(e){return ps(Yu(e))}(e.query),new Wc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,la.fromBase64String(e.resumeToken))}function nl(e,t){var n,r=Jc(t.snapshotVersion),i=Jc(t.lastLimboFreeSnapshotVersion);n=Ka(t.target)?Gu(e.Lt,t.target):$u(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Ec(t.targetId,Ba(t.target),r,o,t.sequenceNumber,i,n)}function rl(e){var t=Yu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vs(t,t.limit,"L"):t}var il=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ol(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Zc(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ol(e).put({bundleId:(n=t).id,createTime:Jc(Lu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return al(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:rl(t.bundledQuery),readTime:Zc(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return al(e).put(function(e){return{name:e.name,readTime:Jc(Lu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ol(e){return Kc(e,kc.store)}function al(e){return Kc(e,Ic.store)}var sl=function(){function e(){this.Bt=new ul}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ac.resolve()},e.prototype.getCollectionParents=function(e,t){return Ac.resolve(this.Bt.getEntries(t))},e}(),ul=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uu(aa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new uu(aa.comparator)).toArray()},e}(),cl=function(){function e(){this.qt=new ul}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:uc(i)};return ll(e).put(o)}return Ac.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zo(t),""],!1,!0);return ll(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(fc(o.parent))}return n}))},e}();function ll(e){return Kc(e,Tc.store)}var fl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function dl(e,t,n){var r=e.store(vc.store),i=e.store(yc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Qo(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=yc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Ac.waitFor(o).next((function(){return c}))}function pl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wo();t=e.noDocument}return JSON.stringify(t).length}hl.DEFAULT_COLLECTION_PERCENTILE=10,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hl.DEFAULT=new hl(41943040,hl.DEFAULT_COLLECTION_PERCENTILE,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hl.DISABLED=new hl(-1,0,0);var vl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Qo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).$t({index:vc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ml(e),a=gl(e);return a.add({}).next((function(s){Qo("number"==typeof s);for(var u=new zc(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Wu(e.Lt,t)})),i=n.mutations.map((function(t){return Wu(e.Lt,t)}));return new vc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new uu((function(e,t){return Xo(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=yc.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,yc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Ac.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return gl(e).get(t).next((function(e){return e?(Qo(e.userId===n.userId),el(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Ac.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gl(e).$t({index:vc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Qo(t.batchId>=r),o=el(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gl(e).$t({index:vc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).Nt(vc.userMutationsIndex,n).next((function(e){return e.map((function(e){return el(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=yc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ml(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=fc(u);if(s===n.userId&&t.path.isEqual(l))return gl(e).get(c).next((function(e){if(!e)throw Wo();Qo(e.userId===n.userId),o.push(el(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new uu(Xo),i=[];return t.forEach((function(t){var o=yc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ml(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=fc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Ac.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=yc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new uu(Xo);return ml(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=fc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gl(e).get(t).next((function(e){if(null===e)throw Wo();Qo(e.userId===n.userId),r.push(el(n.R,e))})))})),Ac.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return dl(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Ac.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ac.resolve();var r=IDBKeyRange.lowerBound(yc.prefixForUser(t.userId)),i=[];return ml(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=fc(e[1]);i.push(o)}else r.done()})).next((function(){Qo(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return yl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return bl(e).get(this.userId).next((function(e){return e||new pc(t.userId,-1,"")}))},e}();function yl(e,t,n){var r=yc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ml(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function gl(e){return Kc(e,vc.store)}function ml(e){return Kc(e,yc.store)}function bl(e){return Kc(e,pc.store)}var wl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),El=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new wl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ta.fromTimestamp(new ea(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return _l(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Qo(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return _l(e).$t((function(a,s){var u=tl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Ac.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return _l(e).$t((function(e,n){var r=tl(n);t(r)}))},e.prototype.Xt=function(e){return Sl(e).get(Sc.key).next((function(e){return Qo(null!==e),e}))},e.prototype.Zt=function(e,t){return Sl(e).put(Sc.key,t)},e.prototype.te=function(e,t){return _l(e).put(nl(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Ba(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _l(e).$t({range:r,index:Ec.queryTargetsIndexName},(function(e,n,r){var o=tl(n);qa(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Tl(e);return t.forEach((function(t){var a=uc(t.path);i.push(o.put(new _c(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ac.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Tl(e);return Ac.forEach(t,(function(t){var o=uc(t.path);return Ac.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Tl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tl(e),i=gu();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=fc(e[1]),o=new Ea(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=uc(t.path),r=IDBKeyRange.bound([n],[Zo(n)],!1,!0),i=0;return Tl(e).$t({index:_c.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return _l(e).get(t).next((function(e){return e?tl(e):null}))},e}();function _l(e){return Kc(e,Ec.store)}function Sl(e){return Kc(e,Sc.store)}function Tl(e){return Kc(e,_c.store)}function xl(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){if(e.code!==jo.FAILED_PRECONDITION||e.message!==Nc)throw e;return qo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function kl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Xo(n,i);return 0===a?Xo(r,o):a}var Il=function(){function e(e){this.ne=e,this.buffer=new uu(kl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();kl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Cl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;qo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return mt(t,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Mc(t=n.sent())?(qo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,xl(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Nl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ac.resolve(Mo.o);var r=new Il(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qo("LruGarbageCollector","Garbage collection skipped; disabled"),Ac.resolve(fl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(qo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),fl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(qo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Bo()<=He.DEBUG&&qo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Ac.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ol=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Nl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Dl(e,n)},e.prototype.removeReference=function(e,t,n){return Dl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Dl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return bl(e).Ot((function(r){return yl(e,r,t).next((function(e){return e&&(n=!0),Ac.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Tl(e).delete([0,uc(a.path)])}))}));i.push(u)}})).next((function(){return Ac.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Dl(e,t)},e.prototype.we=function(e,t){var n,r=Tl(e),i=Mo.o;return r.$t({index:_c.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Mo.o&&t(new Ea(fc(n)),i),i=s,n=a):i=Mo.o})).next((function(){i!==Mo.o&&t(new Ea(fc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Dl(e,t){return Tl(e).put(function(e,t){return new _c(0,uc(e.path),t)}(t,e.currentSequenceNumber))}var Al=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){ra(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return ia(this.inner)},e}(),Pl=function(){function e(){this.changes=new Al((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ta.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ja.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ac.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Rl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ml(e).put(jl(t),n)},e.prototype.removeEntry=function(e,t){var n=Ml(e),r=jl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ml(e).get(jl(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Ml(e).get(jl(t)).next((function(e){return{document:n.ye(t,e),size:pl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=fu();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=fu(),i=new ou(Ea.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,pl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ac.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ml(e).$t({range:r},(function(e,t,r){for(var a=Ea.fromSegments(e);o&&Ea.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=fu(),o=t.path.length+1,a={};if(n.isEqual(ta.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Yc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=bc.collectionReadTimeIndex}return Ml(e).$t(a,(function(e,n,a){if(e.length===o){var s=Gc(r.R,n);t.path.isPrefixOf(s.key.path)?bs(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Ll(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Fl(e).get(wc.key).next((function(e){return Qo(!!e),e}))},e.prototype.me=function(e,t){return Fl(e).put(wc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Gc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ta.min()))return n}return ja.newInvalidDocument(e)},e}(),Ll=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Al((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return gt(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new uu((function(e,t){return Xo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=$c(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=pl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=$c(t.Ie.R,ja.newNoDocument(o,ta.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Ac.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Pl);function Fl(e){return Kc(e,wc.store)}function Ml(e){return Kc(e,bc.store)}function jl(e){return e.path.toArray()}var Ul=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Qo(n<r&&n>=0&&r<=11);var o=new Pc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(dc.store)}(e),function(e){e.createObjectStore(pc.store,{keyPath:pc.keyPath}),e.createObjectStore(vc.store,{keyPath:vc.keyPath,autoIncrement:!0}).createIndex(vc.userMutationsIndex,vc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(yc.store)}(e),Vl(e),function(e){e.createObjectStore(bc.store)}(e));var a=Ac.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(_c.store),e.deleteObjectStore(Ec.store),e.deleteObjectStore(Sc.store)}(e),Vl(e)),a=a.next((function(){return function(e){var t=e.store(Sc.store),n=new Sc(0,0,ta.min().toTimestamp(),0);return t.put(Sc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(vc.store).Nt().next((function(n){e.deleteObjectStore(vc.store),e.createObjectStore(vc.store,{keyPath:vc.keyPath,autoIncrement:!0}).createIndex(vc.userMutationsIndex,vc.userMutationsKeyPath,{unique:!0});var r=t.store(vc.store),i=n.map((function(e){return r.put(e)}));return Ac.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(xc.store,{keyPath:xc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(wc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(bc.store);t.createIndex(bc.readTimeIndex,bc.readTimeIndexPath,{unique:!1}),t.createIndex(bc.collectionReadTimeIndex,bc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(kc.store,{keyPath:kc.keyPath})}(e),function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(bc.store).$t((function(e,n){t+=pl(n)})).next((function(){var n=new wc(t);return e.store(wc.store).put(wc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(pc.store),r=e.store(vc.store);return n.Nt().next((function(n){return Ac.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(vc.userMutationsIndex,i).next((function(r){return Ac.forEach(r,(function(r){Qo(r.userId===n.userId);var i=el(t.R,r);return dl(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(_c.store),n=e.store(bc.store);return e.store(Sc.store).get(Sc.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new aa(n),a=function(e){return[0,uc(e)]}(o);r.push(t.get(a).next((function(n){return n?Ac.resolve():function(n){return t.put(new _c(0,uc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Ac.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Tc.store,{keyPath:Tc.keyPath});var n=t.store(Tc.store),r=new ul,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:uc(i)})}};return t.store(bc.store).$t({Ft:!0},(function(e,t){var n=new aa(e);return i(n.popLast())})).next((function(){return t.store(yc.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=fc(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Ec.store);return n.$t((function(e,r){var i=tl(r),o=nl(t.R,i);return n.put(o)}))},e}();function Vl(e){e.createObjectStore(_c.store,{keyPath:_c.keyPath}).createIndex(_c.documentTargetsIndex,_c.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ec.store,{keyPath:Ec.keyPath}).createIndex(Ec.queryTargetsIndexName,Ec.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Sc.store)}var Bl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ql=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Uo(jo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ol(this,i),this.Le=n+"main",this.R=new Qc(u),this.Be=new Rc(this.Le,11,new Ul(this.R)),this.qe=new El(this.referenceDelegate,this.R),this.Ut=new cl,this.Ue=function(e,t){return new Rl(e,t)}(this.R,this.Ut),this.Ke=new il,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ko("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uo(jo.FAILED_PRECONDITION,Bl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Mo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return mt(t,void 0,void 0,(function(){return bt(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return mt(t,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return mt(t,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zl(t).put(new xc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Mc(t))return qo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return qo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Kl(e).get(dc.key).next((function(e){return Ac.resolve(t.tn(e))}))},e.prototype.en=function(e){return zl(e).delete(this.clientId)},e.prototype.nn=function(){return mt(this,void 0,void 0,(function(){var e,t,n,r,i=this;return bt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Kc(e,xc.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ac.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ac.resolve(!0):Kl(e).get(dc.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Uo(jo.FAILED_PRECONDITION,Bl);return!1}}return!(!t.networkEnabled||!t.inForeground)||zl(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&qo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return mt(this,void 0,void 0,(function(){var e=this;return bt(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dc.store,xc.store],(function(t){var n=new qc(t,Mo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zl(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return vl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;qo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Cc,(function(o){return i=new qc(o,r.Ne?r.Ne.next():Mo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ko("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Uo(jo.FAILED_PRECONDITION,Nc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Kl(e).get(dc.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uo(jo.FAILED_PRECONDITION,Bl)}))},e.prototype.Ze=function(e){var t=new dc(this.clientId,this.allowTabSynchronization,Date.now());return Kl(e).put(dc.key,t)},e.yt=function(){return Rc.yt()},e.prototype.Xe=function(e){var t=this,n=Kl(e);return n.get(dc.key).next((function(e){return t.tn(e)?(qo("IndexedDbPersistence","Releasing primary lease."),n.delete(dc.key)):Ac.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ko("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return qo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ko("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ko("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Kl(e){return Kc(e,dc.store)}function zl(e){return Kc(e,xc.store)}function Hl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Wl=function(e,t){this.progress=e,this.wn=t},Ql=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):hs(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Ea(t)).next((function(e){var t=du();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=du();return this.Ut.getCollectionParents(e,i).next((function(a){return Ac.forEach(a,(function(a){var s=function(e,t){return new os(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ja.newInvalidDocument(c),r=r.insert(c,l)),Ks(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){bs(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=gu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Gs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Gl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=gu(),i=gu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),$l=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ta.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(us(t)||cs(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Bo()<=He.DEBUG&&qo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ms(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new uu(ws(e));return t.forEach((function(t,r){bs(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Bo()<=He.DEBUG&&qo("QueryEngine","Using full collection scan to execute query:",ms(t)),this.Sn.getDocumentsMatchingQuery(e,t,ta.min())},e}(),Yl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new ou(Xo),this.Fn=new Al((function(e){return Ba(e)}),qa),this.$n=ta.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ql(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Xl(e,t,n,r){return new Yl(e,t,n,r)}function Jl(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o;return bt(this,(function(a){switch(a.label){case 0:return n=Go(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Ql(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=gu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Zl(e,t){var n=Go(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ac.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Qo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function ef(e){var t=Go(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function tf(e,t){var n=Go(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Qo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=fu();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(nf(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ta.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Ac.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function nf(e,t,n,r,i){var o=gu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=fu();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ta.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):qo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function rf(e,t){var n=Go(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function of(e,t){var n=Go(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Ac.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Wc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function af(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a;return bt(this,(function(s){switch(s.label){case 0:r=Go(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Mc(a=s.sent()))throw a;return qo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function sf(e,t,n){var r=Go(e),i=ta.min(),o=gu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Go(e),i=r.Fn.get(n);return void 0!==i?Ac.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ps(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ta.min(),n?o:gu())})).next((function(e){return{documents:e,Bn:o}}))}))}function uf(e,t){var n=Go(e),r=Go(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function cf(e){var t=Go(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Go(e),i=fu(),o=Yc(n),a=Ml(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:bc.readTimeIndex,range:s},(function(e,t){var n=Gc(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Xc(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function lf(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){return[2,(t=Go(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ml(e),n=ta.min();return t.$t({index:bc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Xc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function ff(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return bt(this,(function(p){switch(p.label){case 0:for(i=Go(e),o=gu(),a=fu(),s=vu(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,of(i,function(e){return ps(ss(aa.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return nf(e,h,a,ta.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function hf(e,t,n){return void 0===n&&(n=gu()),mt(this,void 0,void 0,(function(){var r,i;return bt(this,(function(o){switch(o.label){case 0:return[4,of(e,ps(rl(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Go(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Lu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(la.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var df=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ac.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Lu(n.createTime)}),Ac.resolve()},e.prototype.getNamedQuery=function(e,t){return Ac.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:rl(e.bundledQuery),readTime:Lu(e.readTime)}}(t)),Ac.resolve()},e}(),pf=function(){function e(){this.Wn=new uu(vf.Gn),this.zn=new uu(vf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new vf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new vf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Ea(new aa([])),r=new vf(n,e),i=new vf(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ea(new aa([])),n=new vf(t,e),r=new vf(t,e+1),i=gu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new vf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),vf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ea.comparator(e.key,t.key)||Xo(e.ns,t.ns)},e.Hn=function(e,t){return Xo(e.ns,t.ns)||Ea.comparator(e.key,t.key)},e}(),yf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new uu(vf.Gn)}return e.prototype.checkEmpty=function(e){return Ac.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new zc(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new vf(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Ac.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ac.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Ac.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ac.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ac.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new vf(t,0),i=new vf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Ac.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new uu(Xo);return t.forEach((function(e){var t=new vf(e,0),i=new vf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Ac.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ea.isDocumentKey(i)||(i=i.child(""));var o=new vf(new Ea(i),0),a=new uu(Xo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Ac.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Qo(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ac.forEach(t.mutations,(function(i){var o=new vf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new vf(t,0),r=this.rs.firstAfterOrEqual(n);return Ac.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Ac.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),gf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new ou(Ea.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ac.resolve(n?n.document.clone():ja.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=fu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ja.newInvalidDocument(e))})),Ac.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=fu(),i=new Ea(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||bs(t,c)&&(r=r.insert(c.key,c.clone()))}return Ac.resolve(r)},e.prototype.fs=function(e,t){return Ac.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new mf(this)},e.prototype.getSize=function(e){return Ac.resolve(this.size)},e}(),mf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return gt(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Ac.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Pl),bf=function(){function e(e){this.persistence=e,this.ds=new Al((function(e){return Ba(e)}),qa),this.lastRemoteSnapshotVersion=ta.min(),this.highestTargetId=0,this.ws=0,this._s=new pf,this.targetCount=0,this.ys=wl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Ac.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ac.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ac.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ac.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ac.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ac.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ac.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ac.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ac.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Ac.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ac.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ac.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ac.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ac.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ac.resolve(n)},e.prototype.containsKey=function(e,t){return Ac.resolve(this._s.containsKey(t))},e}(),wf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Mo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new bf(this),this.Ut=new sl,this.Ue=function(e,t){return new gf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Qc(t),this.Ke=new df(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new yf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;qo("MemoryPersistence","Starting transaction:",e);var i=new Ef(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Ac.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ef=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return gt(t,e),t}(Oc),_f=function(){function e(e){this.persistence=e,this.As=new pf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wo()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ac.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ac.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ac.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ac.forEach(this.vs,(function(r){var i=Ea.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ac.or([function(){return Ac.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Sf=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Tf(e,t){return"firestore_clients_"+e+"_"+t}function xf(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function kf(e,t){return"firestore_targets_"+e+"_"+t}Sf.UNAUTHENTICATED=new Sf(null),Sf.GOOGLE_CREDENTIALS=new Sf("google-credentials-uid"),Sf.FIRST_PARTY=new Sf("first-party-uid"),Sf.MOCK_USER=new Sf("mock-user");var If=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Uo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ko("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Cf=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ko("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Nf=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=bu(),a=0;i&&a<r.activeTargetIds.length;++a)i=wa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ko("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Of=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ko("SharedClientState","Failed to parse online state: "+t),null)},e}(),Df=function(){function e(){this.activeTargetIds=bu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Af=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ou(Xo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Tf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Df),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return mt(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return bt(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Tf(this.persistenceKey,r)))&&(o=Nf.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kf(this.persistenceKey,e));if(n){var r=Cf.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(kf(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return qo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){qo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){qo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(qo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ko("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return mt(t,void 0,void 0,(function(){var e,t,r,i,o,a;return bt(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Mo.o;if(null!=e)try{var n=JSON.parse(e);Qo("number"==typeof n),t=n}catch(e){Ko("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Mo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new If(this.currentUser,e,t,n),i=xf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=xf(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=kf(this.persistenceKey,e),i=new Cf(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Nf.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return If.Vs(new Sf(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Cf.Vs(r,t)},e.prototype.js=function(e){return Of.Vs(e)},e.prototype.ii=function(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(qo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=bu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Pf=function(){function e(){this.li=new Df,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Df,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Rf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Lf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){qo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){qo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),jf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return gt(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Fo;a.listenOnce(Do.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Oo.NO_ERROR:var t=a.getResponseJson();qo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Oo.TIMEOUT:qo("Connection",'RPC "'+e+'" timed out'),o(new Uo(jo.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:var n=a.getStatus();if(qo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jo).indexOf(t)>=0?t:jo.UNKNOWN}(r.status);o(new Uo(s,r.message))}else o(new Uo(jo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Uo(jo.UNAVAILABLE,"Connection failed."));break;default:Wo()}}finally{qo("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Co(),i=No(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ro({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())||"object"===typeof navigator&&"ReactNative"===navigator.product||Se().indexOf("Electron/")>=0||function(){var e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Se().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");qo("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Mf({Ei:function(e){c?qo("Connection","Not sending because WebChannel is closed:",e):(u||(qo("Connection","Opening WebChannel transport."),s.open(),u=!0),qo("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Lo.EventType.OPEN,(function(){c||qo("Connection","WebChannel transport opened.")})),f(s,Lo.EventType.CLOSE,(function(){c||(c=!0,qo("Connection","WebChannel transport closed"),l.Vi())})),f(s,Lo.EventType.ERROR,(function(e){c||(c=!0,zo("Connection","WebChannel transport errored:",e),l.Vi(new Uo(jo.UNAVAILABLE,"The operation could not be completed")))})),f(s,Lo.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Qo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){qo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Js[e];if(void 0!==t)return iu(t)}(o),u=i.message;void 0===a&&(a=jo.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Uo(a,u)),s.close()}else qo("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ao.STAT_EVENT,(function(e){e.stat===Po.PROXY?qo("Connection","Detected buffering proxy"):e.stat===Po.NOPROXY&&qo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);qo("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return qo("RestConnection","Received: ",e),e}),(function(t){throw zo("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Ff[e];return this.Di+"/v1/"+t+":"+n},e}());function Uf(){return"undefined"!=typeof window?window:null}function Vf(){return"undefined"!=typeof document?document:null}function Bf(e){return new Du(e,!0)}var qf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&qo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Kf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new qf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return mt(this,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===jo.RESOURCE_EXHAUSTED?(Ko(t.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===jo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Uo(jo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return mt(e,void 0,void 0,(function(){return bt(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return qo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(qo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),zf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return gt(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Qo(void 0===t||"string"==typeof t),la.fromBase64String(t||"")):(Qo(void 0===t||t instanceof Uint8Array),la.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?jo.UNKNOWN:iu(e.code);return new Uo(t,e.message||"")}(s);n=new Tu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Uu(e,r.document.name),o=Lu(r.document.updateTime);var s=new Fa({mapValue:{fields:r.document.fields}}),u=(a=ja.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new _u(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Uu(e,r.document),o=r.readTime?Lu(r.readTime):ta.min(),s=ja.newNoDocument(i,o),a=r.removedTargetIds||[],n=new _u([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Uu(e,r.document),o=r.removedTargetIds||[],n=new _u([],o,i,null);else{if(!("filter"in t))return Wo();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new nu(r),o=l.targetId,n=new Su(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ta.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ta.min():t.readTime?Lu(t.readTime):ta.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=qu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ka(r)?{documents:Gu(e,r)}:{query:$u(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pu(e,t.resumeToken):t.snapshotVersion.compareTo(ta.min())>0&&(n.readTime=Au(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=qu(this.R),t.removeTarget=e,this.cr(t)},t}(Kf),Hf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return gt(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Qo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Qo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Lu(e.updateTime):Lu(t);return n.isEqual(ta.min())&&(n=Lu(t)),new js(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Lu(e.commitTime);return this.listener.Tr(n,t)}return Qo(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=qu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wu(t.R,e)}))};this.cr(n)},t}(Kf),Wf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return gt(t,e),t.prototype.br=function(){if(this.Rr)throw new Uo(jo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Uo(jo.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Uo(jo.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Qf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ko(t),this.Vr=!1):qo("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Gf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return mt(o,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return rh(this)?(qo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return(t=Go(e)).Or.add(4),[4,Yf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,$f(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Qf(n,r)};function $f(e){return mt(this,void 0,void 0,(function(){var t,n;return bt(this,(function(r){switch(r.label){case 0:if(!rh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Yf(e){return mt(this,void 0,void 0,(function(){var t,n;return bt(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Xf(e,t){var n=Go(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),nh(n)?th(n):mh(n).er()&&Zf(n,t))}function Jf(e,t){var n=Go(e),r=mh(n);n.$r.delete(t),r.er()&&eh(n,t),0===n.$r.size&&(r.er()?r.ir():rh(n)&&n.Br.set("Unknown"))}function Zf(e,t){e.qr.U(t.targetId),mh(e).mr(t)}function eh(e,t){e.qr.U(t),mh(e).yr(t)}function th(e){e.qr=new ku({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),mh(e).start(),e.Br.Sr()}function nh(e){return rh(e)&&!mh(e).tr()&&e.$r.size>0}function rh(e){return 0===Go(e).Or.size}function ih(e){e.qr=void 0}function oh(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){return e.$r.forEach((function(t,n){Zf(e,t)})),[2]}))}))}function ah(e,t){return mt(this,void 0,void 0,(function(){return bt(this,(function(n){return ih(e),nh(e)?(e.Br.Nr(t),th(e)):e.Br.set("Unknown"),[2]}))}))}function sh(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o;return bt(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Tu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o;return bt(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),qo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,uh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _u?e.qr.X(t):t instanceof Su?e.qr.rt(t):e.qr.et(t),n.isEqual(ta.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,ef(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(la.EMPTY_BYTE_STRING,n.snapshotVersion)),eh(e,t);var r=new Wc(n.target,t,1,n.sequenceNumber);Zf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return qo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,uh(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function uh(e,t,n){return mt(this,void 0,void 0,(function(){var r=this;return bt(this,(function(i){switch(i.label){case 0:if(!Mc(t))throw t;return e.Or.add(1),[4,Yf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return ef(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return mt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return qo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,$f(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ch(e,t){return t().catch((function(n){return uh(e,n,t)}))}function lh(e){return mt(this,void 0,void 0,(function(){var t,n,r,i,o;return bt(this,(function(a){switch(a.label){case 0:t=Go(e),n=bh(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return rh(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,rf(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=bh(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,uh(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return fh(t)&&hh(t),[2]}}))}))}function fh(e){return rh(e)&&!bh(e).tr()&&e.Fr.length>0}function hh(e){bh(e).start()}function dh(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){return bh(e).Ar(),[2]}))}))}function ph(e){return mt(this,void 0,void 0,(function(){var t,n,r,i;return bt(this,(function(o){for(t=bh(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function vh(e,t,n){return mt(this,void 0,void 0,(function(){var r,i;return bt(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Hc.from(r,t,n),[4,ch(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,lh(e)];case 2:return o.sent(),[2]}}))}))}function yh(e,t){return mt(this,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:return t&&bh(e).pr?[4,function(e,t){return mt(this,void 0,void 0,(function(){var n,r;return bt(this,(function(i){switch(i.label){case 0:return ru(r=t.code)&&r!==jo.ABORTED?(n=e.Fr.shift(),bh(e).sr(),[4,ch(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,lh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return fh(e)&&hh(e),[2]}}))}))}function gh(e,t){return mt(this,void 0,void 0,(function(){var n;return bt(this,(function(r){switch(r.label){case 0:return n=Go(e),t?(n.Or.delete(2),[4,$f(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Yf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Go(e);return r.br(),new zf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:oh.bind(null,e),Ri:ah.bind(null,e),_r:sh.bind(null,e)}),e.Mr.push((function(n){return mt(t,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),nh(e)?th(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),ih(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function bh(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Go(e);return r.br(),new Hf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:dh.bind(null,e),Ri:yh.bind(null,e),Ir:ph.bind(null,e),Tr:vh.bind(null,e)}),e.Mr.push((function(n){return mt(t,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,lh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(qo("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var wh=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uo(jo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Eh(e,t){if(Ko("AsyncQueue",t+": "+e),Mc(e))return new Uo(jo.UNAVAILABLE,t+": "+e);throw e}var _h=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ea.comparator(t.key,n.key)}:function(e,t){return Ea.comparator(e.key,t.key)},this.keyedMap=du(),this.sortedSet=new ou(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Sh=function(){function e(){this.Qr=new ou(Ea.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Wo():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Th=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,_h.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),xh=function(){this.Wr=void 0,this.listeners=[]},kh=function(){this.queries=new Al((function(e){return gs(e)}),ys),this.onlineState="Unknown",this.Gr=new Set};function Ih(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bt(this,(function(c){switch(c.label){case 0:if(n=Go(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new xh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Eh(s,"Initialization of query '"+ms(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Dh(n),[2]}}))}))}function Ch(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a;return bt(this,(function(s){return n=Go(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Nh(e,t){for(var n=Go(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Dh(n)}function Oh(e,t,n){var r=Go(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Dh(e){e.Gr.forEach((function(e){e.next()}))}var Ah=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Ph=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Rh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Uu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Hu(this.R,e.document,!1):ja.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Lu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Lh(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Rh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||gu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return mt(this,void 0,void 0,(function(){var e,t,n,r,i;return bt(this,(function(o){switch(o.label){case 0:return[4,ff(this.localStore,new Rh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,hf(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wl(Object.assign({},this.progress),e))]}}))}))}}();function Lh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Fh=function(e){this.key=e},Mh=function(e){this.key=e},jh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=gu(),this.mutatedKeys=gu(),this.lo=ws(e),this.fo=new _h(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Sh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=us(this.query)&&i.size===this.query.limit?i.last():null,c=cs(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bs(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),us(this.query)||cs(this.query))for(;a.size>this.query.limit;){var l=us(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wo()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Th(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Sh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=gu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Mh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Fh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=gu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Th.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Uh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Vh=function(e){this.key=e,this.bo=!1},Bh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Al((function(e){return gs(e)}),ys),this.Vo=new Map,this.So=new Set,this.Do=new ou(Ea.comparator),this.Co=new Map,this.No=new pf,this.xo={},this.ko=new Map,this.Fo=wl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function qh(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bt(this,(function(u){switch(u.label){case 0:return n=gd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,of(n.localStore,ps(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Kh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Xf(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Kh(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o,a,s,u,c;return bt(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o,a;return bt(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,sf(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(nd(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,sf(e.localStore,t,!0)];case 1:return i=l.sent(),o=new jh(t,i.Bn),a=o._o(i.documents),s=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),nd(e,n,u.To),c=new Uh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function zh(e,t){return mt(this,void 0,void 0,(function(){var n,r,i;return bt(this,(function(o){switch(o.label){case 0:return n=Go(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!ys(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,af(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Jf(n.remoteStore,r.targetId),ed(n,r.targetId)})).catch(xl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ed(n,r.targetId),[4,af(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Hh(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a;return bt(this,(function(s){switch(s.label){case 0:r=md(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Go(e),i=ea.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=zs(c,n.get(c.key));null!=l&&a.push(new Gs(c.key,l,Ma(l.value.mapValue),Us.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new ou(Xo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,od(r,i.changes)];case 3:return s.sent(),[4,lh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Eh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Wh(e,t){return mt(this,void 0,void 0,(function(){var n,r;return bt(this,(function(i){switch(i.label){case 0:n=Go(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tf(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Qo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Qo(r.bo):e.removedDocuments.size>0&&(Qo(r.bo),r.bo=!1))})),[4,od(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,xl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Qh(e,t,n){var r=Go(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Go(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Dh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Gh(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a,s,u;return bt(this,(function(c){switch(c.label){case 0:return(r=Go(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new ou(Ea.comparator)).insert(o,ja.newNoDocument(o,ta.min())),s=gu().add(o),u=new wu(ta.min(),new Map,new uu(Xo),a,s),[4,Wh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),id(r),[3,4];case 2:return[4,af(r.localStore,t,!1).then((function(){return ed(r,t,n)})).catch(xl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function $h(e,t){return mt(this,void 0,void 0,(function(){var n,r,i;return bt(this,(function(o){switch(o.label){case 0:n=Go(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Zl(n.localStore,t)];case 2:return i=o.sent(),Zh(n,r,null),Jh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,od(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Yh(e,t,n){return mt(this,void 0,void 0,(function(){var r,i;return bt(this,(function(o){switch(o.label){case 0:r=Go(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Go(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Qo(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Zh(r,t,n),Jh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,od(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Xh(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a;return bt(this,(function(s){switch(s.label){case 0:rh((n=Go(e)).remoteStore)||qo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Go(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Eh(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Jh(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Zh(e,t,n){var r=Go(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ed(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||td(e,t)}))}function td(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Jf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),id(e))}function nd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Fh?(e.No.addReference(o.key,t),rd(e,o)):o instanceof Mh?(qo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||td(e,o.key)):Wo()}}function rd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(qo("SyncEngine","New document in limbo: "+n),e.So.add(r),id(e))}function id(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ea(aa.fromString(t)),r=e.Fo.next();e.Co.set(r,new Vh(n)),e.Do=e.Do.insert(n,r),Xf(e.remoteStore,new Wc(ps(ss(n.path)),r,2,Mo.o))}}function od(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a;return bt(this,(function(s){switch(s.label){case 0:return r=Go(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Gl.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return bt(this,(function(f){switch(f.label){case 0:n=Go(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ac.forEach(t,(function(t){return Ac.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Ac.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Mc(r=f.sent()))throw r;return qo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ad(e,t){return mt(this,void 0,void 0,(function(){var n,r;return bt(this,(function(i){switch(i.label){case 0:return(n=Go(e)).currentUser.isEqual(t)?[3,3]:(qo("SyncEngine","User change. New user:",t.toKey()),[4,Jl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Uo(jo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,od(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function sd(e,t){var n=Go(e),r=n.Co.get(t);if(r&&r.bo)return gu().add(r.key);var i=gu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function ud(e,t){return mt(this,void 0,void 0,(function(){var n,r,i;return bt(this,(function(o){switch(o.label){case 0:return[4,sf((n=Go(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&nd(n,t.targetId,i.To),i)]}}))}))}function cd(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){return[2,cf((t=Go(e)).localStore).then((function(e){return od(t,e)}))]}))}))}function ld(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o;return bt(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Go(e),r=Go(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Ac.resolve(null)}))}))}((i=Go(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,lh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Zh(i,t,r||null),Jh(i,t),function(e,t){Go(Go(e)._n).Gt(t)}(i.localStore,t)):Wo(),a.label=4;case 4:return[4,od(i,o)];case 5:return a.sent(),[3,7];case 6:qo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function fd(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return bt(this,(function(l){switch(l.label){case 0:return gd(n=Go(e)),md(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hd(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,gh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Xf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return ed(n,t),af(n.localStore,t,!0)})),Jf(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,hd(n,u)];case 5:return l.sent(),function(e){var t=Go(e);t.Co.forEach((function(e,n){Jf(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new ou(Ea.comparator)}(n),n.$o=!1,[4,gh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function hd(e,t,n){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return bt(this,(function(y){switch(y.label){case 0:n=Go(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,of(n.localStore,ps(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,ud(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,uf(n.localStore,s)];case 8:return v=y.sent(),[4,of(n.localStore,v)];case 9:return u=y.sent(),[4,Kh(n,dd(v),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function dd(e){return as(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pd(e){var t=Go(e);return Go(Go(t.localStore).persistence).fn()}function vd(e,t,n,r){return mt(this,void 0,void 0,(function(){var i,o,a;return bt(this,(function(s){switch(s.label){case 0:return(i=Go(e)).$o?(qo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cf(i.localStore)];case 3:return o=s.sent(),a=wu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,od(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,af(i.localStore,t,!0)];case 6:return s.sent(),ed(i,t,r),[3,8];case 7:Wo(),s.label=8;case 8:return[2]}}))}))}function yd(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return bt(this,(function(d){switch(d.label){case 0:if(!(r=gd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(qo("SyncEngine","Adding an already active target "+a),[3,5]):[4,uf(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,of(r.localStore,s)];case 3:return u=d.sent(),[4,Kh(r,dd(s),u.targetId,!1)];case 4:d.sent(),Xf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return bt(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,af(r.localStore,e,!1).then((function(){Jf(r.remoteStore,e),ed(r,e)})).catch(xl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function gd(e){var t=Go(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gh.bind(null,t),t.vo._r=Nh.bind(null,t.eventManager),t.vo.Mo=Oh.bind(null,t.eventManager),t}function md(e){var t=Go(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$h.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yh.bind(null,t),t}var bd=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return this.R=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Xl(this.persistence,new $l,e.initialUser,this.R)},e.prototype.qo=function(e){return new wf(_f.bs,this.R)},e.prototype.Bo=function(e){return new Pf},e.prototype.terminate=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),wd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return gt(t,e),t.prototype.initialize=function(t){return mt(this,void 0,void 0,(function(){var n=this;return bt(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,lf(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,md(this.Qo.syncEngine)];case 4:return r.sent(),[4,lh(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Xl(this.persistence,new $l,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Cl(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Hl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hl.withCacheSize(this.cacheSizeBytes):hl.DEFAULT;return new ql(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Uf(),Vf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Pf},t}(bd),Ed=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return gt(t,e),t.prototype.initialize=function(t){return mt(this,void 0,void 0,(function(){var n,r=this;return bt(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Af?(this.sharedClientState.syncEngine={ui:ld.bind(null,n),ai:vd.bind(null,n),hi:yd.bind(null,n),fn:pd.bind(null,n),ci:cd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return mt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return[4,fd(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Uf();if(!Af.yt(t))throw new Uo(jo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Af(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(wd),_d=function(){function e(){}return e.prototype.initialize=function(e,t){return mt(this,void 0,void 0,(function(){var n=this;return bt(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Qh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ad.bind(null,this.syncEngine),[4,gh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new kh},e.prototype.createDatastore=function(e){var t,n=Bf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new jf(t));return function(e,t,n){return new Wf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Qh(a.syncEngine,e,0)},o=Lf.yt()?new Lf:new Rf,new Gf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Bh(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return t=Go(e),qo("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Yf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Sd=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Td=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Dc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return mt(this,void 0,void 0,(function(){var e,t,n,r;return bt(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ph(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return mt(this,void 0,void 0,(function(){var e,t;return bt(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return mt(this,void 0,void 0,(function(){var e,t;return bt(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return mt(this,void 0,void 0,(function(){var t,n=this;return bt(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Uo(jo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return mt(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bt(this,(function(u){switch(u.label){case 0:return n=Go(e),r=qu(n.R)+"/documents",i={documents:t.map((function(e){return ju(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Qo(!!t.found),t.found.name,t.found.updateTime;var n=Uu(e,t.found.name),r=Lu(t.found.updateTime),i=new Fa({mapValue:{fields:t.found.fields}});return ja.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Qo(!!t.missing),Qo(!!t.readTime);var n=Uu(e,t.missing),r=Lu(t.readTime);return ja.newNoDocument(n,r)}(e,t):Wo()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Qo(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return mt(this,void 0,void 0,(function(){var e,t=this;return bt(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Ea.fromPath(n);t.mutations.push(new tu(r,t.precondition(r)))})),[4,function(e,t){return mt(this,void 0,void 0,(function(){var n,r,i;return bt(this,(function(o){switch(o.label){case 0:return n=Go(e),r=qu(n.R)+"/documents",i={writes:t.map((function(e){return Wu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wo();t=ta.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uo(jo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Us.updateTime(t):Us.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ta.min()))throw new Uo(jo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Us.updateTime(t)}return Us.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),xd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new qf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return mt(e,void 0,void 0,(function(){var e,t,n=this;return bt(this,(function(r){return e=new Td(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ma(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ru(t)}return!1},e}(),kd=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Sf.UNAUTHENTICATED,this.clientId=Yo.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return mt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return qo("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return mt(this,void 0,void 0,(function(){return bt(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Uo(jo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return mt(e,void 0,void 0,(function(){var e,n;return bt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Eh(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Id(e,t){return mt(this,void 0,void 0,(function(){var n,r,i=this;return bt(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),qo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return mt(i,void 0,void 0,(function(){return bt(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Jl(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Cd(e,t){return mt(this,void 0,void 0,(function(){var n,r;return bt(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Nd(e)];case 1:return n=i.sent(),qo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return mt(this,void 0,void 0,(function(){var n,r;return bt(this,(function(i){switch(i.label){case 0:return(n=Go(e)).asyncQueue.verifyOperationInProgress(),qo("RemoteStore","RemoteStore received new credentials"),r=rh(n),n.Or.add(3),[4,Yf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,$f(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Nd(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(qo("FirestoreClient","Using default OfflineComponentProvider"),[4,Id(e,new bd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Od(e){return mt(this,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(qo("FirestoreClient","Using default OnlineComponentProvider"),[4,Cd(e,new _d)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Dd(e){return Nd(e).then((function(e){return e.persistence}))}function Ad(e){return Nd(e).then((function(e){return e.localStore}))}function Pd(e){return Od(e).then((function(e){return e.remoteStore}))}function Rd(e){return Od(e).then((function(e){return e.syncEngine}))}function Ld(e){return mt(this,void 0,void 0,(function(){var t,n;return bt(this,(function(r){switch(r.label){case 0:return[4,Od(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=qh.bind(null,t.syncEngine),n.onUnlisten=zh.bind(null,t.syncEngine),n)]}}))}))}function Fd(e,t,n){var r=this;void 0===n&&(n={});var i=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(r,void 0,void 0,(function(){var r;return bt(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Sd({next:function(o){t.enqueueAndForget((function(){return Ch(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Uo(jo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Uo(jo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ah(ss(n.path),o,{includeMetadataChanges:!0,so:!0});return Ih(e,a)},[4,Ld(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Md(e,t,n){var r=this;void 0===n&&(n={});var i=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(r,void 0,void 0,(function(){var r;return bt(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Sd({next:function(n){t.enqueueAndForget((function(){return Ch(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Uo(jo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ah(n,o,{includeMetadataChanges:!0,so:!0});return Ih(e,a)},[4,Ld(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var jd=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ud=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Vd=new Map,Bd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},qd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Sf.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Kd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zd=function(){function e(e){var t=this;this.currentUser=Sf.UNAUTHENTICATED,this.oc=new Dc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){qo("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(qo("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(qo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Qo("string"==typeof n.accessToken),new Bd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return mt(n,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Qo(null===e||"string"==typeof e),new Sf(e)},e}(),Hd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Sf.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Wd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Hd(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Sf.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Qd(e,t,n){if(!n)throw new Uo(jo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Gd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uo(jo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function $d(e,t,n,r){if(!0===t&&!0===r)throw new Uo(jo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Yd(e){if(!Ea.isDocumentKey(e))throw new Uo(jo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Xd(e){if(Ea.isDocumentKey(e))throw new Uo(jo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Jd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Wo()}function Zd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uo(jo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jd(e);throw new Uo(jo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ep(e,t){if(t<=0)throw new Uo(jo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var tp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Uo(jo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Uo(jo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),np=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tp({}),this._settingsFrozen=!1,e instanceof Ud?(this._databaseId=e,this._credentials=new qd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uo(jo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(e.options.projectId)}(e),this._credentials=new zd(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Uo(jo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Uo(jo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new qd;switch(e.type){case"gapi":var t=e.client;return Qo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Uo(jo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Vd.get(this))&&(qo("ComponentProvider","Removing Datastore"),Vd.delete(this),e.terminate()),Promise.resolve();var e},e}(),rp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new op(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ip=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),op=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ss(r))||this)._path=r,i.type="collection",i}return gt(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rp(this.firestore,null,new Ea(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(ip);function ap(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Pe(e),Qd("collection","path",t),e instanceof np)return Xd(n=aa.fromString.apply(aa,wt([t],r))),new op(e,null,n);if(!(e instanceof rp||e instanceof op))throw new Uo(jo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xd(n=aa.fromString.apply(aa,wt([e.path],r)).child(aa.fromString(t))),new op(e.firestore,null,n)}function sp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Pe(e),1===arguments.length&&(t=Yo.u()),Qd("doc","path",t),e instanceof np)return Yd(n=aa.fromString.apply(aa,wt([t],r))),new rp(e,null,new Ea(n));if(!(e instanceof rp||e instanceof op))throw new Uo(jo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yd(n=e._path.child(aa.fromString.apply(aa,wt([t],r)))),new rp(e.firestore,e instanceof op?e.converter:null,new Ea(n))}function up(e,t){return e=Pe(e),t=Pe(t),(e instanceof rp||e instanceof op)&&(t instanceof rp||t instanceof op)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cp(e,t){return e=Pe(e),t=Pe(t),e instanceof ip&&t instanceof ip&&e.firestore===t.firestore&&ys(e._query,t._query)&&e.converter===t.converter}var lp=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new qf(this,"async_queue_retry"),this.Ic=function(){var t=Vf();t&&qo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Vf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Vf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Dc;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return mt(this,void 0,void 0,(function(){var e,t=this;return bt(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Mc(e=n.sent()))throw e;return qo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Ko("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=wh.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Wo()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return mt(this,void 0,void 0,(function(){var e;return bt(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function fp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Dc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var hp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new lp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return gt(t,e),t.prototype._terminate=function(){return this._firestoreClient||pp(this),this._firestoreClient.terminate()},t}(np);function dp(e){return e._firestoreClient||pp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new jd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new kd(e._credentials,e._queue,r)}function vp(e,t,n){var r=this,i=new Dc;return e.asyncQueue.enqueue((function(){return mt(r,void 0,void 0,(function(){var r;return bt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Id(e,n)];case 1:return o.sent(),[4,Cd(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===jo.FAILED_PRECONDITION||e.code===jo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function yp(e){if(e._initialized||e._terminated)throw new Uo(jo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Uo(jo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),mp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(la.fromBase64String(t))}catch(t){throw new Uo(jo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(la.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),bp=function(e){this._methodName=e},wp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Uo(jo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Uo(jo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Xo(this._lat,e._lat)||Xo(this._long,e._long)},e}(),Ep=/^__.*__$/,_p=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qs(e,this.data,t,this.fieldTransforms)},e}(),Sp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Tp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wo()}}var xp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Hp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Tp(this.Nc)&&Ep.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),kp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Bf(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new xp({Nc:e,methodName:t,qc:n,path:ua.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ip(e){var t=e._freezeSettings(),n=Bf(e._databaseId);return new kp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Bp("Data must be an object, but it was:",a,r);var s,u,c=Up(r,a);if(o.merge)s=new ca(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=qp(t,h[f],n);if(!a.contains(d))throw new Uo(jo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Wp(l,d)||l.push(d)}s=new ca(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new _p(new Fa(c),s,u)}var Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(bp);function Op(e,t,n){return new xp({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype._toFieldTransform=function(e){return new Ms(e.path,new Ns)},t.prototype.isEqual=function(e){return e instanceof t},t}(bp),Ap=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return gt(t,e),t.prototype._toFieldTransform=function(e){var t=Op(this,e,!0),n=this.Kc.map((function(e){return jp(e,t)})),r=new Os(n);return new Ms(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bp),Pp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return gt(t,e),t.prototype._toFieldTransform=function(e){var t=Op(this,e,!0),n=this.Kc.map((function(e){return jp(e,t)})),r=new As(n);return new Ms(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bp),Rp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return gt(t,e),t.prototype._toFieldTransform=function(e){var t=new Rs(e.R,Ts(e.R,this.Qc));return new Ms(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(bp);function Lp(e,t,n,r){var i=e.Uc(1,t,n);Bp("Data must be an object, but it was:",i,r);var o=[],a=Fa.empty();ra(r,(function(e,r){var s=zp(t,e,n);r=Pe(r);var u=i.Oc(s);if(r instanceof Np)o.push(s);else{var c=jp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ca(o);return new Sp(a,s,i.fieldTransforms)}function Fp(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[qp(t,r,n)],u=[i];if(o.length%2!=0)throw new Uo(jo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(qp(t,o[c])),u.push(o[c+1]);for(var l=[],f=Fa.empty(),h=s.length-1;h>=0;--h)if(!Wp(l,s[h])){var d=s[h],p=u[h];p=Pe(p);var v=a.Oc(d);if(p instanceof Np)l.push(d);else{var y=jp(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new ca(l);return new Sp(f,g,a.fieldTransforms)}function Mp(e,t,n,r){return void 0===r&&(r=!1),jp(n,e.Uc(r?4:3,t))}function jp(e,t){if(Vp(e=Pe(e)))return Bp("Unsupported field value:",t,e),Up(e,t);if(e instanceof bp)return function(e,t){if(!Tp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=jp(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Pe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ts(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ea.fromDate(e);return{timestampValue:Au(t.R,n)}}if(e instanceof ea)return n=new ea(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Au(t.R,n)};if(e instanceof wp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mp)return{bytesValue:Pu(t.R,e._byteString)};if(e instanceof rp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Jd(e))}(e,t)}function Up(e,t){var n={};return ia(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ra(e,(function(e,r){var i=jp(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ea||e instanceof wp||e instanceof mp||e instanceof rp||e instanceof bp)}function Bp(e,t,n){if(!Vp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jd(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function qp(e,t,n){if((t=Pe(t))instanceof gp)return t._internalPath;if("string"==typeof t)return zp(e,t);throw Hp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Kp=new RegExp("[~\\*/\\[\\]]");function zp(e,t,n){if(t.search(Kp)>=0)throw Hp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(gp.bind.apply(gp,wt([void 0],t.split(".")))))._internalPath}catch(Qv){throw Hp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Hp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Uo(jo.INVALID_ARGUMENT,(s+=". ")+e+u)}function Wp(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Gp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Qp);function $p(e,t){return"string"==typeof t?zp(e,t):t instanceof gp?t._internalPath:t._delegate._internalPath}var Yp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Xp=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return gt(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Qp),Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Xp),Zp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Jp(n._firestore,n._userDataWriter,r.key,r,new Yp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Uo(jo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Jp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Jp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ev(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function ev(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wo()}}function tv(e,t){return e instanceof Xp&&t instanceof Xp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Zp&&t instanceof Zp&&e._firestore===t._firestore&&cp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function nv(e){if(cs(e)&&0===e.explicitOrderBy.length)throw new Uo(jo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rv=function(){};function iv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var ov=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return gt(t,e),t.prototype._apply=function(e){var t=Ip(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Uo(jo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hv(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(fv(r,e,f))}s={arrayValue:{values:u}}}else s=fv(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hv(a,o),s=Mp(n,"where",a,"in"===o||"not-in"===o);var h=za.create(i,o,s);return function(e,t){if(t.g()){var n=fs(e);if(null!==n&&!n.isEqual(t.field))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ls(e);null!==r&&dv(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Uo(jo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Uo(jo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ip(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(rv),av=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return gt(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ts(t,n);return function(e,t){if(null===ls(e)){var n=fs(e);null!==n&&dv(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new ip(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new os(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(rv),sv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return gt(t,e),t.prototype._apply=function(e){return new ip(e.firestore,e.converter,vs(e._query,this.Hc,this.Jc))},t}(rv),uv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return gt(t,e),t.prototype._apply=function(e){var t=lv(e,this.type,this.Yc,this.Xc);return new ip(e.firestore,e.converter,function(e,t){return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(rv),cv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return gt(t,e),t.prototype._apply=function(e){var t=lv(e,this.type,this.Yc,this.Xc);return new ip(e.firestore,e.converter,function(e,t){return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(rv);function lv(e,t,n,r){if(n[0]=Pe(n[0]),n[0]instanceof Qp)return function(e,t,n,r,i){if(!r)throw new Uo(jo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ds(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Na(t,r.key));else{var c=r.data.field(u.field);if(va(c))throw new Uo(jo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Za(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ip(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Uo(jo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hs(e)&&-1!==c.indexOf("/"))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(aa.fromString(c));if(!Ea.isDocumentKey(l))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Ea(l);s.push(Na(t,f))}else{var h=Mp(n,r,c);s.push(h)}}return new Za(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function fv(e,t,n){if("string"==typeof(n=Pe(n))){if(""===n)throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hs(t)&&-1!==n.indexOf("/"))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(aa.fromString(n));if(!Ea.isDocumentKey(r))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Na(e,new Ea(r))}if(n instanceof rp)return Na(e,n._key);throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jd(n)+".")}function hv(e,t){if(!Array.isArray(e)||0===e.length)throw new Uo(jo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Uo(jo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function dv(e,t,n){if(!n.isEqual(t))throw new Uo(jo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var pv=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return da(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wo()}},e.prototype.convertObject=function(e,t){var n=this,r={};return ra(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new wp(da(e.latitude),da(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ya(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ga(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ha(e);return new ea(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=aa.fromString(e);Qo(sc(n));var r=new Ud(n.get(1),n.get(3)),i=new Ea(n.popFirst(5));return r.isEqual(t)||Ko("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function vv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return gt(t,e),t.prototype.convertBytes=function(e){return new mp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rp(this.firestore,null,t)},t}(pv),gv=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ip(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=mv(e,this._firestore),i=vv(r.converter,t,n),o=Cp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Us.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=mv(e,this._firestore);return o="string"==typeof(t=Pe(t))||t instanceof gp?Fp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Lp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Us.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=mv(e,this._firestore);return this._mutations=this._mutations.concat(new eu(t._key,Us.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Uo(jo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function mv(e,t){if((e=Pe(e)).firestore!==t)throw new Uo(jo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return gt(t,e),t.prototype.convertBytes=function(e){return new mp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rp(this.firestore,null,t)},t}(pv);function wv(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Zd(e,rp);var o=Zd(e.firestore,hp),a=Ip(o);return _v(o,[("string"==typeof(t=Pe(t))||t instanceof gp?Fp(a,"updateDoc",e._key,t,n,r):Lp(a,"updateDoc",e._key,t)).toMutation(e._key,Us.exists(!0))])}function Ev(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Pe(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||fp(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(fp(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof rp)c=Zd(e.firestore,hp),l=ss(e._key.path),u={next:function(t){i[s]&&i[s](Sv(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Zd(e,ip);c=Zd(d.firestore,hp),l=d._query;var p=new bv(c);u={next:function(e){i[s]&&i[s](new Zp(c,p,d,e))},error:i[s+1],complete:i[s+2]},nv(e._query)}return function(e,t,n,r){var i=this,o=new Sd(r),a=new Ah(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return mt(i,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return t=Ih,[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return mt(i,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return t=Ch,[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(dp(c),l,f,u)}function _v(e,t){return function(e,t){var n=this,r=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var n;return bt(this,(function(i){switch(i.label){case 0:return n=Hh,[4,Rd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(dp(e),t)}function Sv(e,t,n){var r=n.docs.get(t._key),i=new bv(e);return new Xp(e,i,t._key,r,new Yp(n.hasPendingWrites,n.fromCache),t.converter)}var Tv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return gt(t,e),t.prototype.get=function(t){var n=this,r=mv(t,this._firestore),i=new bv(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Xp(n._firestore,i,r._key,e._document,new Yp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ip(e)}return e.prototype.get=function(e){var t=this,n=mv(e,this._firestore),r=new yv(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wo();var i=e[0];if(i.isFoundDocument())return new Qp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Qp(t._firestore,r,n._key,null,n.converter);throw Wo()}))},e.prototype.set=function(e,t,n){var r=mv(e,this._firestore),i=vv(r.converter,t,n),o=Cp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=mv(e,this._firestore);return o="string"==typeof(t=Pe(t))||t instanceof gp?Fp(this._dataReader,"Transaction.update",a._key,t,n,r):Lp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=mv(e,this._firestore);return this._transaction.delete(t._key),this},e}());function xv(){if("undefined"==typeof Uint8Array)throw new Uo(jo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kv(){if("undefined"==typeof atob)throw new Uo(jo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Iv=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return kv(),new e(mp.fromBase64String(t))},e.fromUint8Array=function(t){return xv(),new e(mp.fromUint8Array(t))},e.prototype.toBase64=function(){return kv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return xv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Cv=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){yp(e=Zd(e,hp));var n=dp(e),r=e._freezeSettings(),i=new _d;return vp(n,i,new wd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){yp(e=Zd(e,hp));var t=dp(e),n=e._freezeSettings(),r=new _d;return vp(t,r,new Ed(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Uo(jo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Dc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return mt(t,void 0,void 0,(function(){var t;return bt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return Rc.yt()?(t=e+"main",[4,Rc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Hl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Nv=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Ud||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Zd(e,np))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Sf.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=ge({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Uo(jo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Sf(u)}e._credentials=new Kd(new Bd(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return mt(t,void 0,void 0,(function(){var t,n;return bt(this,(function(r){switch(r.label){case 0:return[4,Dd(e)];case 1:return t=r.sent(),[4,Pd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Go(e);return t.Or.delete(0),$f(t)}(n))]}}))}))}))}(dp(Zd(this._delegate,hp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return mt(t,void 0,void 0,(function(){var t,n;return bt(this,(function(r){switch(r.label){case 0:return[4,Dd(e)];case 1:return t=r.sent(),[4,Pd(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return mt(this,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return(t=Go(e)).Or.add(0),[4,Yf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(dp(Zd(this._delegate,hp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&$d("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(t,void 0,void 0,(function(){var t;return bt(this,(function(r){switch(r.label){case 0:return t=Xh,[4,Rd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(dp(Zd(this._delegate,hp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Sd(t);return e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return t=function(e,t){Go(e).Gr.add(t),t.next()},[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var t;return bt(this,(function(n){switch(n.label){case 0:return t=function(e,t){Go(e).Gr.delete(t)},[4,Ld(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(dp(e=Zd(e,hp)),fp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Uo(jo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Kv(this,ap(this._delegate,e))}catch(e){throw Lv(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Rv(this,sp(this._delegate,e))}catch(e){throw Lv(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Vv(this,function(e,t){if(e=Zd(e,np),Qd("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uo(jo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ip(e,null,function(e){return new os(aa.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Lv(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var n;return bt(this,(function(i){switch(i.label){case 0:return[4,function(e){return Od(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new xd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(dp(e),(function(n){return t(new Tv(e,n))}))}(this._delegate,(function(n){return e(new Dv(t,n))}))},e.prototype.batch=function(){var e=this;return dp(this._delegate),new Av(new gv(this._delegate,(function(t){return _v(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Uo(jo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Uo(jo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ov=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return gt(t,e),t.prototype.convertBytes=function(e){return new Iv(new mp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Rv.eu(t,this.firestore,null)},t}(pv);var Dv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ov(e)}return e.prototype.get=function(e){var t=this,n=zv(e);return this._delegate.get(n).then((function(e){return new jv(t._firestore,new Xp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=zv(e);return n?(Gd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=zv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,wt([a,t,n],i)),this},e.prototype.delete=function(e){var t=zv(e);return this._delegate.delete(t),this},e}(),Av=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=zv(e);return n?(Gd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=zv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,wt([a,t,n],i)),this},e.prototype.delete=function(e){var t=zv(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Pv=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Jp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uv(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ov(t),n),i.set(n,o)),o},e}();Pv.su=new WeakMap;var Rv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ov(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Uo(jo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new rp(n._delegate,r,new Ea(t)))},e.eu=function(t,n,r){return new e(n,new rp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Kv(this.firestore,ap(this._delegate,e))}catch(e){throw Lv(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Pe(e))instanceof rp&&up(this._delegate,e)},e.prototype.set=function(e,t){t=Gd("DocumentReference.set",t);try{return function(e,t,n){e=Zd(e,rp);var r=Zd(e.firestore,hp),i=vv(e.converter,t,n);return _v(r,[Cp(Ip(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Us.none())])}(this._delegate,e,t)}catch(e){throw Lv(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?wv(this._delegate,e):wv.apply(void 0,wt([this._delegate,e,t],n))}catch(e){throw Lv(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return _v(Zd((e=this._delegate).firestore,hp),[new eu(e._key,Us.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fv(t),i=Mv(t,(function(t){return new jv(e.firestore,new Xp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ev(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp),n=dp(t),r=new bv(t);return function(e,t){var n=this,r=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var n;return bt(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return mt(this,void 0,void 0,(function(){var r,i;return bt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Go(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Uo(jo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Eh(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ad(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Xp(t,r,e._key,n,new Yp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp);return Fd(dp(t),e._key,{source:"server"}).then((function(n){return Sv(t,e,n)}))}(this._delegate):function(e){e=Zd(e,rp);var t=Zd(e.firestore,hp);return Fd(dp(t),e._key).then((function(n){return Sv(t,e,n)}))}(this._delegate)).then((function(e){return new jv(t.firestore,new Xp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Pv.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Lv(e,t,n){return e.message=e.message.replace(t,n),e}function Fv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!fp(r))return r}return{}}function Mv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fp(e[0])?e[0]:fp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Rv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return tv(this._delegate,e._delegate)},e}(),Uv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(jv),Vv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ov(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,iv(this._delegate,function(e,t,n){var r=t,i=$p("where",e);return new ov(i,r,n)}(t,n,r)))}catch(t){throw Lv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,iv(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=$p("orderBy",e);return new av(r,n)}(t,n)))}catch(t){throw Lv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,iv(this._delegate,function(e){return ep("limit",e),new sv("limit",e,"F")}(t)))}catch(t){throw Lv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,iv(this._delegate,function(e){return ep("limitToLast",e),new sv("limitToLast",e,"L")}(t)))}catch(t){throw Lv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uv("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Lv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uv("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Lv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cv("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Lv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iv(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cv("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Lv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return cp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bv(t);return function(e,t){var n=this,r=new Dc;return e.asyncQueue.enqueueAndForget((function(){return mt(n,void 0,void 0,(function(){var n;return bt(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return mt(this,void 0,void 0,(function(){var r,i,o,a,s;return bt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,sf(e,t,!0)];case 1:return s=u.sent(),r=new jh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Eh(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Ad(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bv(t);return Md(n,e._query,{source:"server"}).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate):function(e){e=Zd(e,ip);var t=Zd(e.firestore,hp),n=dp(t),r=new bv(t);return nv(e._query),Md(n,e._query).then((function(n){return new Zp(t,r,e,n)}))}(this._delegate)).then((function(e){return new qv(t.firestore,new Zp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fv(t),i=Mv(t,(function(t){return new qv(e.firestore,new Zp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ev(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Pv.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Bv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Uv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),qv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Vv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Uv(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Bv(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Uv(n._firestore,r))}))},e.prototype.isEqual=function(e){return tv(this._delegate,e._delegate)},e}(),Kv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return gt(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Rv(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Rv(this.firestore,void 0===e?sp(this._delegate):sp(this._delegate,e))}catch(e){throw Lv(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Zd(e.firestore,hp),r=sp(e),i=vv(e.converter,t);return _v(n,[Cp(Ip(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Us.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Rv(t.firestore,e)}))},t.prototype.isEqual=function(e){return up(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Pv.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Vv);function zv(e){return Zd(e,rp)}var Hv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(gp.bind.apply(gp,wt([void 0],e)))}return e.documentId=function(){return new e(ua.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Pe(e))instanceof gp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Wv=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Dp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Np("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ap("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Pp("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Rp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Qv,Gv={Firestore:Nv,GeoPoint:wp,Timestamp:ea,Blob:Iv,Transaction:Dv,WriteBatch:Av,DocumentReference:Rv,DocumentSnapshot:jv,Query:Vv,QueryDocumentSnapshot:Uv,QuerySnapshot:qv,CollectionReference:Kv,FieldPath:Hv,FieldValue:Wv,setLogLevel:function(e){var t;t=e,Vo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ue("firestore",(function(e){return function(e,t){return new Nv(e,new hp(e,t),new Cv)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Gv)))})(Qv=pt),Qv.registerVersion("@firebase/firestore","2.4.0");var $v=function(t){var n=(0,s.useFocusable)({onEnterPress:t.onEnterPress}),r=n.ref,i=n.focusSelf;(0,e.useEffect)((function(){return i(),function(){localStorage.helpShown=!0}}),[i]);var o=(0,e.useCallback)((function(e){switch(e.keyCode){case 8:case 461:case 10009:case Window.VK_BACK_SPACE:t.closeHelpContainer()}}),[t]);return(0,e.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[o]),(0,u.jsx)("div",{ref:r,className:"helpContainer",children:(0,u.jsxs)("div",{className:"help",children:["Game comes up with a four-letter word and the player tries to guess it.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"At each turn the player tries a four-letter word, and the Game says how close it is to the answer by giving:",(0,u.jsx)("br",{}),"The number of Bulls - letters correct in the right position.",(0,u.jsx)("br",{}),"The number of Cows - letters correct but in the wrong position.",(0,u.jsx)("br",{}),"The Player tries to guess the answer in the fewest number of turns.",(0,u.jsx)("br",{})," ",(0,u.jsx)("br",{}),"No repeat letters are allowed in a word and only valid English words are allowed",(0,u.jsx)("br",{})," ",(0,u.jsx)("br",{}),"ex: ",(0,u.jsx)("b",{children:"'FIVE'"})," is the word chosen by the Game",(0,u.jsx)("br",{}),"1. GRID - 0B1C // I is in a different position",(0,u.jsx)("br",{}),"2. LIST - 1B0C // I is in the correct position",(0,u.jsx)("br",{}),"3. FIRE - 3B0C // F, I and E are in correct positions",(0,u.jsx)("br",{}),"4. FIVE - 4B",(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"backButtonRow",children:(0,u.jsx)(g,{focusKey:"backButton",onEnterPress:t.onCloseSettings,onClick:t.closeHelpContainer,children:"Back"})})]})})},Yv=n(6900),Xv=n.n(Yv),Jv=["Dark","Light","Red"];function Zv(t){var n=(0,s.useFocusable)({isFocusBoundary:!0}),r=n.ref,i=n.focusSelf,o=n.focusKey;return(0,e.useEffect)((function(){i()}),[i]),(0,u.jsx)(s.FocusContext.Provider,{value:o,children:(0,u.jsx)("ul",{ref:r,className:"theme",children:Jv.map((function(e){return(0,u.jsx)(ey,{className:"theme-item",onEnterPress:function(){return t.onEnterPress(e)},children:e},e)}))})})}function ey(e){var t=(0,s.useFocusable)({onEnterPress:e.onEnterPress}),n=t.ref,r=t.focused;return(0,u.jsx)("li",{onClick:function(){return e.onEnterPress()},ref:n,className:"theme-item".concat(r?" focused":""),children:e.children})}var ty=function(t){var n=(0,s.useFocusable)(),r=n.ref,i=n.focusKey,a=n.focusSelf,c=o((0,e.useState)(!1),2),l=c[0],f=c[1];(0,e.useEffect)((function(){a()}),[a]);var h=(0,e.useCallback)((function(e){switch(e.keyCode){case 8:case 461:case 10009:case Window.VK_BACK_SPACE:if(l)return void f(!1);t.onCloseSettings()}}),[t,l]);return(0,e.useEffect)((function(){return document.addEventListener("keydown",h),function(){document.removeEventListener("keydown",h)}}),[h]),(0,u.jsx)(s.FocusContext.Provider,{value:i,children:(0,u.jsxs)("div",{ref:r,className:"SettingsContainer",children:[(0,u.jsxs)("div",{className:"difficultyRow settingsRow",children:[(0,u.jsx)("span",{children:"Mode:"}),(0,u.jsx)(g,{focusKey:"difficulty",onEnterPress:t.onClickDifficulty,onClick:t.onClickDifficulty,children:t.easyMode?"Easy":"Hard"}),(0,u.jsx)("p",{children:"Keys will be colour coded. Yellow indicates partial match, grey indicates no match"})]}),(0,u.jsxs)("div",{className:"themeRow settingsRow",children:[(0,u.jsx)("span",{children:"Theme:"}),(0,u.jsxs)(g,{focusKey:"toggleTheme",onEnterPress:function(){return f(!l)},onClick:function(){return f(!l)},children:[t.theme,l?(0,u.jsx)(Zv,{onEnterPress:function(e){null===t||void 0===t||t.changeTheme(e),f(!1)}}):null]}),(0,u.jsx)("p",{children:"Changes colour scheme of the application"})]}),(0,u.jsxs)("div",{className:"autoCheckRow settingsRow",children:[(0,u.jsx)("span",{children:"Autocheck:"}),(0,u.jsx)(g,{focusKey:"autoCheckRow",onEnterPress:t.onClickAutoCheck,onClick:t.onClickAutoCheck,children:t.autoCheck?"Yes":"No"}),(0,u.jsxs)("p",{children:["When set to yes, word will be checked automatically on entering 4 letters"," "]})]}),(0,u.jsx)("div",{className:"backButtonRow",children:(0,u.jsx)(g,{focusKey:"backButton",onEnterPress:t.onCloseSettings,onClick:t.onCloseSettings,children:"Back"})})]})})},ny=pt.initializeApp({apiKey:"AIzaSyCunI9-wjYUwjYjY6d5XJdYvS5bpVPtptE",authDomain:"cows-and-bulls-3da30.firebaseapp.com",projectId:"cows-and-bulls-3da30",storageBucket:"cows-and-bulls-3da30.appspot.com",messagingSenderId:"957661796079",appId:"1:957661796079:web:21a5dd4ecb224362b36d1a"}),ry=pt.firestore(ny);var iy=function(){(0,s.init)();var t=(0,s.useFocusable)(),n=t.ref,r=t.focusKey,i=o((0,e.useState)([]),2),a=i[0],c=i[1],l=o((0,e.useState)(localStorage.theme?localStorage.theme:"Red"),2),f=l[0],h=l[1],d=o((0,e.useState)("true"===localStorage.autoCheck),2),p=d[0],v=d[1],y=o((0,e.useState)(!localStorage.helpShown),2),g=y[0],m=y[1],w=o((0,e.useState)(!1),2),E=w[0],_=w[1],S=o((0,e.useState)(!1),2),T=S[0],x=S[1],k=o((0,e.useState)("true"===localStorage.easyMode),2),I=k[0],C=k[1];(0,e.useEffect)((function(){document.addEventListener("WIN",(function(){return _(!0)})),document.addEventListener("NEW_GAME",(function(){return _(!1)}))}),[]),(0,e.useEffect)((function(){ry.collection("cows-and-bulls-words").get().then((function(e){e.forEach((function(e){console.log("WORDS_RECEIVED",e.data().words),c(e.data().words)}))})).catch((function(e){console.log("getWords Error ",e),c(null)}))}),[]);var N=function(){console.log("onClickSettings"),x(!T)},O=function(){g&&m(!1)};return(0,u.jsx)(s.FocusContext.Provider,{value:r,children:(0,u.jsxs)("div",{ref:n,className:"App "+f,children:[(0,u.jsx)(b,{easyMode:I,focusKey:"InputContainer",onClickHelpButton:function(){m(!g)},onClickSettings:N,autoCheck:p}),T&&(0,u.jsx)(ty,{changeTheme:function(e){localStorage.theme=e,h(e)},theme:f,easyMode:I,autoCheck:p,onClickDifficulty:function(){localStorage.easyMode=!I,C(!I)},onClickAutoCheck:function(){localStorage.autoCheck=!p,v(!p)},onCloseSettings:N,focusKey:"SettingsContainer"}),(0,u.jsx)(pe,{words:a,autoCheck:p}),E&&(0,u.jsx)(Xv(),{}),g&&(0,u.jsx)($v,{onEnterPress:O,closeHelpContainer:O,focusKey:"HelpContainer"}),(0,u.jsx)(te,{position:"bottom-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,theme:f?"dark":"light",closeButton:!1})]})})},oy=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ay(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}!function(e){if("serviceWorker"in navigator){if(new URL("/cows-and-bulls",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cows-and-bulls","/service-worker.js");oy?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ay(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ay(t,e)}))}}(),console.log=function(){},console.error=function(){},console.debug=function(){},t.render((0,u.jsx)(e.StrictMode,{children:(0,u.jsx)(iy,{})}),document.getElementById("root"))}()}();